<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>netsquid.components.qprogram &mdash; NetSquid 1.1.7 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=370aedac"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="netsquid.components.qprocessor" href="netsquid.components.qprocessor.html" />
    <link rel="prev" title="netsquid.components.instructions" href="netsquid.components.instructions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #E3E3E3" >

          
          
          <a href="../index.html" class="icon icon-home">
            NetSquid
              <img src="../_static/squid-150.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.1.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RELEASE.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AUTHORS.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LICENSE.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learn NetSquid</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">NetSquid in 10 minutes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.intro.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.qubits.html">Qubits and quantum computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.pydynaa.html">Discrete event simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.components.html">Modelling of network components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.nodes.html">Nodes and Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.protocols.html">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.quantumprocessor.html">The Quantum Processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.simulation.html">A full simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../learn.examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../learn_examples/learn.examples.teleportation.html">Teleportation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learn_examples/learn.examples.repeater.html">Repeater with purification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learn_examples/learn.examples.repeater_chain.html">Repeater chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learn_examples/learn.examples.simple_link.html">A simple link layer protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learn_examples/learn.examples.magic_simple_link.html">Faster Link layer Protocol using abstraction</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api_reference.html">NetSquid package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../netsquid.qubits.html">netsquid.qubits</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qformalism.html">netsquid.qubits.qformalism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qubitapi.html">netsquid.qubits.qubitapi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.operators.html">netsquid.qubits.operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.cliffords.html">netsquid.qubits.cliffords</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.ketstates.html">netsquid.qubits.ketstates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.state_sampler.html">netsquid.qubits.state_sampler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qubit.html">netsquid.qubits.qubit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qstate.html">netsquid.qubits.qstate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qrepr.html">netsquid.qubits.qrepr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.kettools.html">netsquid.qubits.kettools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.dmtools.html">netsquid.qubits.dmtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.sparsedmtools.html">netsquid.qubits.sparsedmtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.stabtools.html">netsquid.qubits.stabtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.gslctools.html">netsquid.qubits.gslctools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qreprutil.html">netsquid.qubits.qreprutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.ketutil.html">netsquid.qubits.ketutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.dmutil.html">netsquid.qubits.dmutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.sparseutil.html">netsquid.qubits.sparseutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.gslcutil.html">netsquid.qubits.gslcutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.opmath.html">netsquid.qubits.opmath</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../netsquid.components.html">netsquid.components</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.component.html">netsquid.components.component</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.channel.html">netsquid.components.channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.qchannel.html">netsquid.components.qchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.cchannel.html">netsquid.components.cchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.cqchannel.html">netsquid.components.cqchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.qmemory.html">netsquid.components.qmemory</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.instructions.html">netsquid.components.instructions</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">netsquid.components.qprogram</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.qprocessor.html">netsquid.components.qprocessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.clock.html">netsquid.components.clock</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.qsource.html">netsquid.components.qsource</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.qdetector.html">netsquid.components.qdetector</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.switch.html">netsquid.components.switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.components.ccoding.html">netsquid.components.ccoding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../netsquid.components.models.html">netsquid.components.models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_models/netsquid.components.models.model.html">netsquid.components.models.model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_models/netsquid.components.models.delaymodels.html">netsquid.components.models.delaymodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_models/netsquid.components.models.errormodels.html">netsquid.components.models.errormodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_models/netsquid.components.models.qerrormodels.html">netsquid.componentsmodels.qerrormodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_models/netsquid.components.models.cerrormodels.html">netsquid.components.models.cerrormodels</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../netsquid.nodes.html">netsquid.nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_nodes/netsquid.nodes.node.html">netsquid.nodes.node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_nodes/netsquid.nodes.connections.html">netsquid.nodes.connections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_nodes/netsquid.nodes.network.html">netsquid.nodes.network</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../netsquid.protocols.html">netsquid.protocols</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html">netsquid.protocols.protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_protocols/netsquid.protocols.nodeprotocols.html">netsquid.protocols.nodeprotocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html">netsquid.protocols.serviceprotocol</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../netsquid.util.html">netsquid.util</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.simtools.html">netsquid.util.simtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.simlog.html">netsquid.util.simlog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.simstats.html">netsquid.util.simstats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.datacollector.html">netsquid.util.datacollector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.cycache.html">netsquid.util.cycache</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.cymath.html">netsquid.util.cymath</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.constrainedmap.html">netsquid.util.constrainedmap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../netsquid.examples.html">netsquid.examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_examples/netsquid.examples.teleportation.html">netsquid.examples.teleportation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_examples/netsquid.examples.entanglenodes.html">netsquid.examples.entanglenodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_examples/netsquid.examples.purify.html">netsquid.examples.purify</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_examples/netsquid.examples.repeater.html">netsquid.examples.repeater</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_examples/netsquid.examples.repeater_chain.html">netsquid.examples.repeater_chain</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_examples/netsquid.examples.simple_link.html">netsquid.examples.simple_link</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_examples/netsquid.examples.magic_simple_link.html">netsquid.examples.magic_simple_link</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_pydynaa.html">pyDynAA package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html">pydynaa.Entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-event">pydynaa.Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-eventtype">pydynaa.EventType</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-eventexpression">pydynaa.EventExpression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-eventhandler">pydynaa.EventHandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-expressionhandler">pydynaa.ExpressionHandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-simulationengine">pydynaa.SimulationEngine</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL-SOURCE.html">Installation from source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #E3E3E3" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NetSquid</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api_reference.html">NetSquid package</a></li>
          <li class="breadcrumb-item"><a href="../netsquid.components.html">netsquid.components</a></li>
      <li class="breadcrumb-item active">netsquid.components.qprogram</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api_components/netsquid.components.qprogram.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="netsquid.components.instructions.html" class="btn btn-neutral float-left" title="netsquid.components.instructions" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="netsquid.components.qprocessor.html" class="btn btn-neutral float-right" title="netsquid.components.qprocessor" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-netsquid.components.qprogram">
<span id="netsquid-components-qprogram"></span><h1>netsquid.components.qprogram<a class="headerlink" href="#module-netsquid.components.qprogram" title="Link to this heading"></a></h1>
<p>Defines a quantum program that runs on a quantum processor.</p>
<p>Quantum programs are written using
<a class="reference internal" href="netsquid.components.instructions.html#netsquid.components.instructions.Instruction" title="netsquid.components.instructions.Instruction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Instruction</span></code></a>s,
and, similar to instructions, are intended to be agnostic to the type of
<a class="reference internal" href="netsquid.components.qprocessor.html#netsquid.components.qprocessor.QuantumProcessor" title="netsquid.components.qprocessor.QuantumProcessor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuantumProcessor</span></code></a> they run on.</p>
<p>Quantum programs support control logic using yield statements, and can
indicate if instructions sequences should be executed in parallel
– a feature the executing quantum processor must also support.</p>
<p class="rubric">Examples</p>
<p>Below we gives examples of how to create quantum program.
For examples of how to run a quantum program on a quantum
processor see <a class="reference internal" href="netsquid.components.qprocessor.html#module-netsquid.components.qprocessor" title="netsquid.components.qprocessor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">qprocessor</span></code></a>.</p>
<p>Example imports:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.components.qprogram</span> <span class="kn">import</span> <span class="o">*</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.components.instructions</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
<p>In its most basic form a quantum program can be created as a single sequence
of instructions:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prog</span> <span class="o">=</span> <span class="n">QuantumProgram</span><span class="p">(</span><span class="n">num_qubits</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span> <span class="o">=</span> <span class="n">prog</span><span class="o">.</span><span class="n">get_qubit_indices</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prog</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_X</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prog</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_CNOT</span><span class="p">,</span> <span class="p">[</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prog</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prog</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m2&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Such a single sequence of instructions can also be created by subclassing the
<a class="reference internal" href="#netsquid.components.qprogram.QuantumProgram" title="netsquid.components.qprogram.QuantumProgram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuantumProgram</span></code></a> class:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CustomQProgram</span><span class="p">(</span><span class="n">QuantumProgram</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">default_num_qubits</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">program</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_qubit_indices</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_X</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_CNOT</span><span class="p">,</span> <span class="p">[</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_SIGNAL</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m1&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m2&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Multiple sequences are defined using repeated yield statements calling
the <code class="docutils literal notranslate"><span class="pre">run()</span></code> method.
Instructions store their output in a local state dictionary called <code class="docutils literal notranslate"><span class="pre">output</span></code>.
Control logic can be used to select what instructions are called.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ControlledQProgram</span><span class="p">(</span><span class="n">QuantumProgram</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">default_num_qubits</span> <span class="o">=</span> <span class="mi">3</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">program</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_qubit_indices</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_H</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m1&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">... </span>        <span class="c1"># Depending on outcome on q1 either flip q2 or q3</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">[</span><span class="s2">&quot;m1&quot;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
<span class="gp">... </span>            <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_X</span><span class="p">,</span> <span class="n">q2</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">else</span><span class="p">:</span>
<span class="gp">... </span>            <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_X</span><span class="p">,</span> <span class="n">q3</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m2&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q3</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m3&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">parallel</span></code> parameter in the <code class="docutils literal notranslate"><span class="pre">run()</span></code> method can be used to control whether
the quantum processor attempts to run the sequence in parallel.
To do so, it must have matching <a class="reference internal" href="netsquid.components.qprocessor.html#netsquid.components.qprocessor.PhysicalInstruction" title="netsquid.components.qprocessor.PhysicalInstruction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PhysicalInstruction</span></code></a>s
that support this.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ParallelQProgram</span><span class="p">(</span><span class="n">QuantumProgram</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">default_num_qubits</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">program</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">q3</span><span class="p">,</span> <span class="n">q4</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_qubit_indices</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_X</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_X</span><span class="p">,</span> <span class="n">q4</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_CNOT</span><span class="p">,</span> <span class="p">[</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_CNOT</span><span class="p">,</span> <span class="p">[</span><span class="n">q3</span><span class="p">,</span> <span class="n">q4</span><span class="p">])</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_H</span><span class="p">,</span> <span class="n">q3</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_H</span><span class="p">,</span> <span class="n">q4</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m1&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m2&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE_X</span><span class="p">,</span> <span class="n">q3</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m3&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE_X</span><span class="p">,</span> <span class="n">q4</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m4&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>The parameter <code class="docutils literal notranslate"><span class="pre">physical</span></code> can be used to indicate whether a quantum processor
should match the instruction to a <a class="reference internal" href="netsquid.components.qprocessor.html#netsquid.components.qprocessor.PhysicalInstruction" title="netsquid.components.qprocessor.PhysicalInstruction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">PhysicalInstruction</span></code></a>
or to instead execute it instantly and without noise, i.e. non-physical.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">CheatingQProgram</span><span class="p">(</span><span class="n">QuantumProgram</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">default_num_qubits</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">program</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_qubit_indices</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_X</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_SIGNAL</span><span class="p">,</span> <span class="n">physical</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_Z</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">physical</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_CNOT</span><span class="p">,</span> <span class="p">[</span><span class="n">q1</span><span class="p">,</span> <span class="n">q2</span><span class="p">])</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q1</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m1&quot;</span><span class="p">,</span> <span class="n">physical</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_MEASURE</span><span class="p">,</span> <span class="n">q2</span><span class="p">,</span> <span class="n">output_key</span><span class="o">=</span><span class="s2">&quot;m2&quot;</span><span class="p">,</span> <span class="n">physical</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>A program can load in another program using the
<a class="reference internal" href="#netsquid.components.qprogram.QuantumProgram.load" title="netsquid.components.qprogram.QuantumProgram.load"><code class="xref py py-meth docutils literal notranslate"><span class="pre">load()</span></code></a> method. Loaded programs
share the output dict.
Loading programs works to arbitrary depth.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">LoadingQProgram</span><span class="p">(</span><span class="n">QuantumProgram</span><span class="p">):</span>
<span class="gp">... </span>    <span class="n">default_num_qubits</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">program</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="c1"># Run a regular sequence</span>
<span class="gp">... </span>        <span class="n">q1</span><span class="p">,</span> <span class="n">q2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_qubit_indices</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_X</span><span class="p">,</span> <span class="n">q1</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
<span class="gp">... </span>        <span class="c1"># Load and run another program</span>
<span class="gp">... </span>        <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">CustomQProgram</span><span class="p">)</span>
</pre></div>
</div>
<p>Programs can accept keyword arguments</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ParamProgram</span><span class="p">(</span><span class="n">QuantumProgram</span><span class="p">):</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">program</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">[</span><span class="s2">&quot;a&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">output</span><span class="p">[</span><span class="s2">&quot;b&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">()</span>
</pre></div>
</div>
<p>Programs can be concatenated using the addition operator,
where one of the operands can also be a class instead of an instance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prog3</span> <span class="o">=</span> <span class="n">prog1</span> <span class="o">+</span> <span class="n">prog2</span>  
</pre></div>
</div>
<p>Programs can be repeated using the multiplication operator:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prog2</span> <span class="o">=</span> <span class="n">prog1</span> <span class="o">*</span> <span class="mi">5</span>  
</pre></div>
</div>
<p>In all cases the output dict is shared among the combined programs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">netsquid.components.qprogram.</span></span><span class="sig-name descname"><span class="pre">QuantumProgram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_qubits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qubit_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Program that executes on a quantum processor.</p>
<p>Written using <a class="reference internal" href="netsquid.components.instructions.html#netsquid.components.instructions.Instruction" title="netsquid.components.instructions.Instruction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Instruction</span></code></a>s,
and similarly intended to be agnostic to the type of
<a class="reference internal" href="netsquid.components.qprocessor.html#netsquid.components.qprocessor.QuantumProcessor" title="netsquid.components.qprocessor.QuantumProcessor"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuantumProcessor</span></code></a> it runs on.</p>
<p>Passed as input to
<a class="reference internal" href="netsquid.components.qprocessor.html#netsquid.components.qprocessor.QuantumProcessor.execute_program" title="netsquid.components.qprocessor.QuantumProcessor.execute_program"><code class="xref py py-meth docutils literal notranslate"><span class="pre">execute_program()</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_qubits</strong> (<em>int or None, optional</em>) – Number of qubits quantum program requires to run on.
If -1, it can run on any number of qubits.
If <code class="docutils literal notranslate"><span class="pre">None</span></code> and <code class="docutils literal notranslate"><span class="pre">qubit_mapping</span></code> is <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">default_num_qubits</span></code> is used.</p></li>
<li><p><strong>parallel</strong> (<em>bool, optional</em>) – Whether processor should attempt to run instructions
in parallel if physical instructions support it.
This can be manually overridden in a program.</p></li>
<li><p><strong>qubit_mapping</strong> (<em>list of int or None, optional</em>) – Order of qubit indices that is returned with get_qubit_indices().
Useful when concatenating programs.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram.output">
<span class="sig-name descname"><span class="pre">output</span></span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram.output" title="Link to this definition"></a></dt>
<dd><p>Dictionary containing instruction outputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram.parallel">
<span class="sig-name descname"><span class="pre">parallel</span></span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram.parallel" title="Link to this definition"></a></dt>
<dd><p>Whether processor should attempt to run instructions
in parallel if physical instructions support it.
This can be manually overridden in a program.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>Two programs can be concatenated to create a new program using the addition operator:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prog1</span> <span class="o">=</span> <span class="n">FirstProgram</span><span class="p">()</span>  <span class="c1"># subclass of QuantumProgram  </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prog2</span> <span class="o">=</span> <span class="n">SecondProgram</span><span class="p">()</span>  <span class="c1"># subclass of QuantumProgram  </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prog3</span> <span class="o">=</span> <span class="n">prog1</span> <span class="o">+</span> <span class="n">prog2</span>  
</pre></div>
</div>
<p>A new program that repeats another program multiple times can
be created using the multiplication operator:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">prog1</span> <span class="o">=</span> <span class="n">FirstProgram</span><span class="p">()</span>  <span class="c1"># subclass of QuantumProgram  </span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prog2</span> <span class="o">=</span> <span class="n">prog1</span> <span class="o">*</span> <span class="mi">5</span>  
<span class="gp">&gt;&gt;&gt; </span><span class="n">prog3</span> <span class="o">=</span> <span class="mi">12</span> <span class="o">*</span> <span class="n">prog2</span>  
</pre></div>
</div>
<dl class="py attribute">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram.default_num_qubits">
<span class="sig-name descname"><span class="pre">default_num_qubits</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram.default_num_qubits" title="Link to this definition"></a></dt>
<dd><p>default number of qubits program requires. If -1 it can run on any number of qubits.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram.program">
<span class="sig-name descname"><span class="pre">program</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram.program" title="Link to this definition"></a></dt>
<dd><p>Program to be executed.</p>
<p>Override this method to add additional control logic.</p>
<p>By default runs a single sequences of instructions that
have been added using <code class="docutils literal notranslate"><span class="pre">apply()</span></code>.</p>
<p class="rubric">Notes</p>
<p>Returns a generator.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram.num_qubits">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">num_qubits</span></span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram.num_qubits" title="Link to this definition"></a></dt>
<dd><p>number of qubits program requires. If -1 can run on any number of qubits.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram.get_qubit_indices">
<span class="sig-name descname"><span class="pre">get_qubit_indices</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_qubits</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram.get_qubit_indices" title="Link to this definition"></a></dt>
<dd><p>Convenience method that returns the program’s qubit indices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>num_qubits</strong> (<em>int or None, optional</em>) – Number of qubit indices to return. If <code class="docutils literal notranslate"><span class="pre">None</span></code>
will try to return all indices corresponding
to <code class="docutils literal notranslate"><span class="pre">self.num_qubits</span></code>, raising an exception
if this is not bounded.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Indices of program qubits.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>list of int</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If too many indices are requested, or if all indices are requested and
    this number is not bounded.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instruction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qubit_indices</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'last'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">physical</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">parameters</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram.apply" title="Link to this definition"></a></dt>
<dd><p>Prepare to apply an instruction.</p>
<p>Prepares a callback function that will be called when the instruction
is executed by a quantum processor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>instruction</strong> (<a class="reference internal" href="netsquid.components.instructions.html#netsquid.components.instructions.Instruction" title="netsquid.components.instructions.Instruction"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Instruction</span></code></a>) – Next instruction to be called during program execution.</p></li>
<li><p><strong>qubit_indices</strong> (<em>int or list of int or None, optional</em>) – Program qubit indices to apply instruction to. If None or an empty list,
then the instruction does not act on any qubit indices.</p></li>
<li><p><strong>output_key</strong> (<em>str, optional</em>) – Dictionary key to store instruction output with. Default is to store
all outputs using <code class="docutils literal notranslate"><span class="pre">last</span></code>.</p></li>
<li><p><strong>physical</strong> (<em>bool, optional</em>) – Whether a quantum processor should interpret this instruction as being
physical. If non-physical it should execute it instantly and and without noise.</p></li>
<li><p><strong>**parameters</strong> – Additional keyword arguments to pass to the instruction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><ul class="simple">
<li><p><em>str</em> – Name of the instruction to be applied.</p></li>
<li><p><em>list of int</em> – Program qubit indices instruction to be applied to.</p></li>
<li><p><em>function</em> – Callback function that applies the instruction to a quantum processor.</p></li>
</ul>
</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The prepared callback also accepts <code class="docutils literal notranslate"><span class="pre">runtime_params</span></code> keyword arguments
that will override any matching keywords in <code class="docutils literal notranslate"><span class="pre">parameters</span></code>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">program</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram.load" title="Link to this definition"></a></dt>
<dd><p>Load in and run another quantum program within this program.</p>
<p>To be called within an overridden <code class="docutils literal notranslate"><span class="pre">program()</span></code> method.
Should be prepepended by <code class="docutils literal notranslate"><span class="pre">yield</span> <span class="pre">from</span></code> (see example below).</p>
<p>The <code class="docutils literal notranslate"><span class="pre">output</span></code> dict is shared between both programs.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>program</strong> (<a class="reference internal" href="#netsquid.components.qprogram.QuantumProgram" title="netsquid.components.qprogram.QuantumProgram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuantumProgram</span></code></a>) – Another quantum program to load in and run.
Can be an instance or a (sub)class of
<a class="reference internal" href="#netsquid.components.qprogram.QuantumProgram" title="netsquid.components.qprogram.QuantumProgram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuantumProgram</span></code></a>.
If it is an instance, a copy is made.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A generator for the loaded program.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>generator</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="#netsquid.components.qprogram.QuantumProgramError" title="netsquid.components.qprogram.QuantumProgramError"><strong>QuantumProgramError</strong></a> – If <code class="docutils literal notranslate"><span class="pre">program</span></code> is invalid. This exception will be caught by
    a running program and cause it to fail.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>It is possible to load a <a class="reference internal" href="#netsquid.components.qprogram.QuantumProgram" title="netsquid.components.qprogram.QuantumProgram"><code class="xref py py-obj docutils literal notranslate"><span class="pre">QuantumProgram</span></code></a> instance or class.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">program</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># ...</span>
<span class="gp">... </span>    <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">my_program_instance</span><span class="p">)</span>
<span class="gp">... </span>    <span class="k">yield from</span> <span class="bp">self</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">MyCustomProgram</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parallel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lazy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram.run" title="Link to this definition"></a></dt>
<dd><p>Carry out all applied instructions within the program to this point.</p>
<p>Called within an overridden <code class="docutils literal notranslate"><span class="pre">program()</span></code> method.
Should be prepepended by <code class="docutils literal notranslate"><span class="pre">yield</span></code> (see example below).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parallel</strong> (<em>bool, optional</em>) – Whether processor should attempt to run instructions
in parallel (if physically supported).
Default True.</p></li>
<li><p><strong>lazy</strong> (<em>bool, optional</em>) – Whether to perform all instructions at once.
Useful to keep qubit states small between combining and reducing.
(Qubits in other processors that share the same qubit state
do not get the chance to increase the state exponentially)
All instructions will be executed at the current time instance
without having to run the simulator.
Noise will be applied accordingly for the duration of and between the instructions.
However any other calls in an instruction to <a class="reference internal" href="../api_util/netsquid.util.simtools.html#netsquid.util.simtools.sim_time" title="netsquid.util.simtools.sim_time"><code class="xref py py-func docutils literal notranslate"><span class="pre">sim_time()</span></code></a>
or scheduling events with schedule_now and schedule_after <strong>will be incorrect</strong>.
Make absolutely sure that no such calls exists in the instructions.
It will not be checked, so there is no guarantee that the simulation is correct otherwise.
Default False.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>tuple with the following entries:</p>
<dl class="simple">
<dt>list of tuple(<code class="xref py py-obj docutils literal notranslate"><span class="pre">ProgramInstruction</span></code>)</dt><dd><p>List of tuples specifying instruction name, program qubit indices,
callback function.</p>
</dd>
<dt>bool</dt><dd><p>Whether processor should attempt to run instructions
in parallel (if physically supported).</p>
</dd>
<dt>bool</dt><dd><p>Whether the processor should attempt to run instruction lazily
(i.e. apply them all at once at the same event).</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">RunParameters</span></code></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">program</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>    <span class="bp">self</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">INSTR_X</span><span class="p">,</span> <span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">... </span>    <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">parallel</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgram.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgram.reset" title="Link to this definition"></a></dt>
<dd><p>Reset state of program.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgramError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">netsquid.components.qprogram.</span></span><span class="sig-name descname"><span class="pre">QuantumProgramError</span></span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgramError" title="Link to this definition"></a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>An exception that, if raised, will cause a quantum program to fail.</p>
<dl class="py method">
<dt class="sig sig-object py" id="netsquid.components.qprogram.QuantumProgramError.with_traceback">
<span class="sig-name descname"><span class="pre">with_traceback</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#netsquid.components.qprogram.QuantumProgramError.with_traceback" title="Link to this definition"></a></dt>
<dd><p>Exception.with_traceback(tb) –
set self.__traceback__ to tb and return self.</p>
</dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="netsquid.components.instructions.html" class="btn btn-neutral float-left" title="netsquid.components.instructions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="netsquid.components.qprocessor.html" class="btn btn-neutral float-right" title="netsquid.components.qprocessor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2021, TNO and TUDelft (QuTech).</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: 1.1.7
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      <dd><a href="/1-1-stable/">1.1.5</a></dd>
      <dd><a href="/1-0-stable/">1.0.7</a></dd>
      <dd><a href="/0-10-stable/">0.10.4</a></dd>
      <dd><a href="/0-9-stable/">0.9.11</a></dd>
      <dd><a href="/0-8-stable/">0.8.7</a></dd>
      <dd><a href="/0-7-stable/">0.7.5</a></dd>
      <dd><a href="/0-6-stable/">0.6.4</a></dd>
      <dd><a href="/0-5-stable/">0.5.2</a></dd>
      <dd><a href="/0-4-stable/">0.4.2</a></dd>
      <dd><a href="/0-3-stable/">0.3.5</a></dd>
      <dd><a href="/latest-release/">latest release</a></dd>
      <dd><a href="/master/">master branch</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".highlight-default .highlight").each(function() {
            if ($(this).find(".gp").length > 0) {
             $(this).prepend("<div class='codebtn btn btn-neutral float-right'><div class='gp'>>>></div><div>");
             $(this).children("pre").contents().filter(function() {return this.nodeType === 3;}).wrap("<span></span>").end();
            }
        });
        $(".highlight-default .highlight .codebtn").click(function() {
            $(this).parent().children("pre").find(".gp").toggleClass("hidden");
            var traceback_elem = $(this).parent().children("pre").find(".gt, .go");
            traceback_elem.toggleClass("hidden");
            traceback_elem.nextUntil(".gp, .go").toggleClass("hidden");

        })
    });
</script>


</body>
</html>