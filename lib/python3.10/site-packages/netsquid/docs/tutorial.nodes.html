<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Nodes and Connections &mdash; NetSquid 1.1.7 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=370aedac"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Protocols" href="tutorial.protocols.html" />
    <link rel="prev" title="Modelling of network components" href="tutorial.components.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #E3E3E3" >

          
          
          <a href="index.html" class="icon icon-home">
            NetSquid
              <img src="_static/squid-150.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.1.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="INSTALL.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="RELEASE.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="AUTHORS.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learn NetSquid</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">NetSquid in 10 minutes</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tutorial.intro.html">Tutorial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial.qubits.html">Qubits and quantum computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.pydynaa.html">Discrete event simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.components.html">Modelling of network components</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Nodes and Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.protocols.html">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.quantumprocessor.html">The Quantum Processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.simulation.html">A full simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="learn.examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="learn_examples/learn.examples.teleportation.html">Teleportation</a></li>
<li class="toctree-l2"><a class="reference internal" href="learn_examples/learn.examples.repeater.html">Repeater with purification</a></li>
<li class="toctree-l2"><a class="reference internal" href="learn_examples/learn.examples.repeater_chain.html">Repeater chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="learn_examples/learn.examples.simple_link.html">A simple link layer protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="learn_examples/learn.examples.magic_simple_link.html">Faster Link layer Protocol using abstraction</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">NetSquid package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="netsquid.qubits.html">netsquid.qubits</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qformalism.html">netsquid.qubits.qformalism</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qubitapi.html">netsquid.qubits.qubitapi</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.operators.html">netsquid.qubits.operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.cliffords.html">netsquid.qubits.cliffords</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.ketstates.html">netsquid.qubits.ketstates</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.state_sampler.html">netsquid.qubits.state_sampler</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qubit.html">netsquid.qubits.qubit</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qstate.html">netsquid.qubits.qstate</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qrepr.html">netsquid.qubits.qrepr</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.kettools.html">netsquid.qubits.kettools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.dmtools.html">netsquid.qubits.dmtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.sparsedmtools.html">netsquid.qubits.sparsedmtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.stabtools.html">netsquid.qubits.stabtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.gslctools.html">netsquid.qubits.gslctools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qreprutil.html">netsquid.qubits.qreprutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.ketutil.html">netsquid.qubits.ketutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.dmutil.html">netsquid.qubits.dmutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.sparseutil.html">netsquid.qubits.sparseutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.gslcutil.html">netsquid.qubits.gslcutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.opmath.html">netsquid.qubits.opmath</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.components.html">netsquid.components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.component.html">netsquid.components.component</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.channel.html">netsquid.components.channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qchannel.html">netsquid.components.qchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.cchannel.html">netsquid.components.cchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.cqchannel.html">netsquid.components.cqchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qmemory.html">netsquid.components.qmemory</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.instructions.html">netsquid.components.instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qprogram.html">netsquid.components.qprogram</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qprocessor.html">netsquid.components.qprocessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.clock.html">netsquid.components.clock</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qsource.html">netsquid.components.qsource</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qdetector.html">netsquid.components.qdetector</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.switch.html">netsquid.components.switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.ccoding.html">netsquid.components.ccoding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.components.models.html">netsquid.components.models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_models/netsquid.components.models.model.html">netsquid.components.models.model</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_models/netsquid.components.models.delaymodels.html">netsquid.components.models.delaymodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_models/netsquid.components.models.errormodels.html">netsquid.components.models.errormodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_models/netsquid.components.models.qerrormodels.html">netsquid.componentsmodels.qerrormodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_models/netsquid.components.models.cerrormodels.html">netsquid.components.models.cerrormodels</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.nodes.html">netsquid.nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_nodes/netsquid.nodes.node.html">netsquid.nodes.node</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_nodes/netsquid.nodes.connections.html">netsquid.nodes.connections</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_nodes/netsquid.nodes.network.html">netsquid.nodes.network</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.protocols.html">netsquid.protocols</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_protocols/netsquid.protocols.protocol.html">netsquid.protocols.protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_protocols/netsquid.protocols.nodeprotocols.html">netsquid.protocols.nodeprotocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_protocols/netsquid.protocols.serviceprotocol.html">netsquid.protocols.serviceprotocol</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.util.html">netsquid.util</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.simtools.html">netsquid.util.simtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.simlog.html">netsquid.util.simlog</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.simstats.html">netsquid.util.simstats</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.datacollector.html">netsquid.util.datacollector</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.cycache.html">netsquid.util.cycache</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.cymath.html">netsquid.util.cymath</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.constrainedmap.html">netsquid.util.constrainedmap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.examples.html">netsquid.examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.teleportation.html">netsquid.examples.teleportation</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.entanglenodes.html">netsquid.examples.entanglenodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.purify.html">netsquid.examples.purify</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.repeater.html">netsquid.examples.repeater</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.repeater_chain.html">netsquid.examples.repeater_chain</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.simple_link.html">netsquid.examples.simple_link</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.magic_simple_link.html">netsquid.examples.magic_simple_link</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_pydynaa.html">pyDynAA package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html">pydynaa.Entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-event">pydynaa.Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-eventtype">pydynaa.EventType</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-eventexpression">pydynaa.EventExpression</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-eventhandler">pydynaa.EventHandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-expressionhandler">pydynaa.ExpressionHandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-simulationengine">pydynaa.SimulationEngine</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="INSTALL-SOURCE.html">Installation from source</a></li>
<li class="toctree-l1"><a class="reference internal" href="CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #E3E3E3" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NetSquid</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="tutorial.intro.html">Tutorial</a></li>
      <li class="breadcrumb-item active">Nodes and Connections</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/tutorial.nodes.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="tutorial.components.html" class="btn btn-neutral float-left" title="Modelling of network components" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial.protocols.html" class="btn btn-neutral float-right" title="Protocols" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="nodes-and-connections">
<h1>Nodes and Connections<a class="headerlink" href="#nodes-and-connections" title="Link to this heading"></a></h1>
<p>The previous tutorial introduced various component base classes to improve the modelling of a quantum network.
In this tutorial we will organise things further by composing these components together into <em>nodes</em> and <em>connections</em>, two examples of composite components.
At the end of this section we will have a function to create the network automatically, which we will use
in the next section to complete the teleportation scheme using protocols.</p>
<p class="topic-title">Learning goals</p><ul class="simple">
<li><p>Creating a network using nodes and connections
(<strong>essential</strong>).</p></li>
<li><p>Adding subcomponents to composite components
(<strong>advanced</strong>).</p></li>
<li><p>Forwarding ports
(<strong>advanced</strong>).</p></li>
</ul>
<nav class="contents local" id="table-of-contents">
<p class="topic-title">Table of contents</p>
<ul class="simple">
<li><p><a class="reference internal" href="#nodes" id="id1">Nodes</a></p></li>
<li><p><a class="reference internal" href="#connections" id="id2">Connections</a></p></li>
<li><p><a class="reference internal" href="#an-entangling-connection-for-teleportation" id="id3">An entangling connection for teleportation <sup>*</sup></a></p></li>
</ul>
</nav>
<p><em>Advanced sections are denoted by an asterix (*).</em></p>
<section id="nodes">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Nodes</a><a class="headerlink" href="#nodes" title="Link to this heading"></a></h2>
<p>Nodes (<a class="reference internal" href="api_nodes/netsquid.nodes.node.html#netsquid.nodes.node.Node" title="netsquid.nodes.node.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>) represent the location entities of a quantum network,
where all operations are local.
The Node (a subclass of <a class="reference internal" href="api_components/netsquid.components.component.html#netsquid.components.component.Component" title="netsquid.components.component.Component"><code class="xref py py-class docutils literal notranslate"><span class="pre">Component</span></code></a>) is an example of a <em>composite component</em>
that holds and manages sub-components via its <a class="reference internal" href="api_components/netsquid.components.component.html#netsquid.components.component.Component.subcomponents" title="netsquid.components.component.Component.subcomponents"><code class="xref py py-attr docutils literal notranslate"><span class="pre">subcomponents</span></code></a> attribute.</p>
<p>Up to this point in the tutorial Alice and Bob have been generic simulation entities (<a class="reference internal" href="pydynaa.html#pydynaa.core.Entity" title="pydynaa.core.Entity"><code class="xref py py-class docutils literal notranslate"><span class="pre">Entity</span></code></a>).
In this section of the tutorial we will turn them into Node components and thereby describe them purely in terms of
their network hardware.
In a later section we will demonstrate how to describe the remaining logical behaviour using virtual <em>protocol</em> entities.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.nodes</span> <span class="kn">import</span> <span class="n">Node</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;Alice&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>A node can be thought of as a location for any local components.
For example, if we want Alice to have a
quantum memory (<a class="reference internal" href="api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.QuantumMemory" title="netsquid.components.qmemory.QuantumMemory"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuantumMemory</span></code></a>) we can add it to her node as follows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.components</span> <span class="kn">import</span> <span class="n">QuantumMemory</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qmemory</span> <span class="o">=</span> <span class="n">QuantumMemory</span><span class="p">(</span><span class="s2">&quot;AliceMemory&quot;</span><span class="p">,</span> <span class="n">num_positions</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="o">.</span><span class="n">add_subcomponent</span><span class="p">(</span><span class="n">qmemory</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;memory1&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="o">.</span><span class="n">subcomponents</span><span class="p">[</span><span class="s2">&quot;memory1&quot;</span><span class="p">]</span>
<span class="go">QuantumMemory(name=&#39;AliceMemory&#39;)</span>
</pre></div>
</div>
<p>In general any component can be added as a sub-component of another component in this way,
provided a consistent hierarchy is maintained i.e. no circular parent-child relationships are made.
The sub-components and super-component of a component can be queried as follows:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="o">.</span><span class="n">subcomponents</span>
<span class="go">ConstrainedMap({&#39;memory1&#39;: QuantumMemory(name=&#39;AliceMemory&#39;)})</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qmemory</span><span class="o">.</span><span class="n">supercomponent</span>
<span class="go">Node(name=&#39;Alice&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="o">.</span><span class="n">supercomponent</span> <span class="ow">is</span> <span class="kc">None</span>
<span class="go">True</span>
</pre></div>
</div>
<p>For nodes there is a special treatment for the primary quantum memory (or quantum processor):
it can be specified on initialization, and it can be accessed using the <em>qmemory</em> attribute.
For instance:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">qmemory</span> <span class="o">=</span> <span class="n">QuantumMemory</span><span class="p">(</span><span class="s2">&quot;BobMemory&quot;</span><span class="p">,</span> <span class="n">num_positions</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bob</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span><span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="n">qmemory</span><span class="o">=</span><span class="n">qmemory</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bob</span><span class="o">.</span><span class="n">qmemory</span>
<span class="go">QuantumMemory(name=&#39;BobMemory&#39;)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">bob</span><span class="o">.</span><span class="n">subcomponents</span>
<span class="go">ConstrainedMap({&#39;BobMemory&#39;: QuantumMemory(name=&#39;BobMemory&#39;)})</span>
</pre></div>
</div>
<p>Nodes, like any component, can have ports (<a class="reference internal" href="api_components/netsquid.components.component.html#netsquid.components.component.Port" title="netsquid.components.component.Port"><code class="xref py py-class docutils literal notranslate"><span class="pre">Port</span></code></a>).
Because it is not possible to connect ports between components with different supercomponents (parents),
a node’s ports serve as the external interface for all their sub-components.
This helps to enforce locality, which we will see again when we discuss protocols.
A node’s sub-component can communicate via a node’s ports via <em>forwarding</em> i.e. it can forward it’s output or receive forwarded input.</p>
<a class="reference internal image-reference" href="_images/ports_forwarding.png"><img alt="_images/ports_forwarding.png" class="align-center" src="_images/ports_forwarding.png" style="width: 400px;" /></a>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="o">.</span><span class="n">add_ports</span><span class="p">([</span><span class="s1">&#39;qin_charlie&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;qin_charlie&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">forward_input</span><span class="p">(</span><span class="n">alice</span><span class="o">.</span><span class="n">qmemory</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;qin&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>Any messages that are transmitted as input to Alice’s <em>qin_charlie</em> port will be directly forwarded as input to her memory’s <em>qin</em> port.
Note that unlike port connections, port forwarding is only setup in the specified direction.</p>
</section>
<section id="connections">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Connections</a><a class="headerlink" href="#connections" title="Link to this heading"></a></h2>
<p>By using port forwarding the node becomes the only exposed interface.
The recommended practice is to connect remote nodes using <em>connection</em> components (<a class="reference internal" href="api_nodes/netsquid.nodes.connections.html#netsquid.nodes.connections.Connection" title="netsquid.nodes.connections.Connection"><code class="xref py py-class docutils literal notranslate"><span class="pre">Connection</span></code></a>).
The <em>Connection</em> base class represents its remote end-points by two ports named <em>A</em> and <em>B</em>,
which by default are not yet bound or forwarded.
The first connection we will construct makes use of a one-way classical communication channel (<a class="reference internal" href="api_components/netsquid.components.cchannel.html#netsquid.components.cchannel.ClassicalChannel" title="netsquid.components.cchannel.ClassicalChannel"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClassicalChannel</span></code></a>) between Alice and Bob in the teleportation example.</p>
<a class="reference internal image-reference" href="_images/aafig-bbbbe9a4fb51544b610842f726b1e55b00d50691.svg"><img alt="_images/aafig-bbbbe9a4fb51544b610842f726b1e55b00d50691.svg" height="119.39999999999999" src="_images/aafig-bbbbe9a4fb51544b610842f726b1e55b00d50691.svg" width="1064.3999999999999" /></a>
<p>We define our connection by subclassing from the Connection base class and implementing message behaviour for the <em>A</em> and <em>B</em> ports.
A Channel has the default ports <em>send</em> and <em>recv</em>.
When a message is put on the input of the connection (at port <em>A</em>) it is forwarded to the <em>send</em> port of the Channel.
Similarly the output of the <em>recv</em> port is forwarded to port <em>B</em>.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.nodes.connections</span> <span class="kn">import</span> <span class="n">Connection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.components</span> <span class="kn">import</span> <span class="n">ClassicalChannel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.components.models</span> <span class="kn">import</span> <span class="n">FibreDelayModel</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">ClassicalConnection</span><span class="p">(</span><span class="n">Connection</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;ClassicalConnection&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">add_subcomponent</span><span class="p">(</span><span class="n">ClassicalChannel</span><span class="p">(</span><span class="s2">&quot;Channel_A2B&quot;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="n">length</span><span class="p">,</span>
<span class="gp">... </span>            <span class="n">models</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;delay_model&quot;</span><span class="p">:</span> <span class="n">FibreDelayModel</span><span class="p">()}))</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">forward_input</span><span class="p">(</span>
<span class="gp">... </span>            <span class="bp">self</span><span class="o">.</span><span class="n">subcomponents</span><span class="p">[</span><span class="s2">&quot;Channel_A2B&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;send&#39;</span><span class="p">])</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">subcomponents</span><span class="p">[</span><span class="s2">&quot;Channel_A2B&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;recv&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">forward_output</span><span class="p">(</span>
<span class="gp">... </span>            <span class="bp">self</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">])</span>
</pre></div>
</div>
<p>The alternative to subclassing in this case is to first instantiate the Connection class
and then add and link the channel sub-component, similarly to how we created the nodes above.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">cconnection</span> <span class="o">=</span> <span class="n">Connection</span><span class="p">(</span><span class="s2">&quot;ClassicalConnection&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cchannel</span> <span class="o">=</span> <span class="n">ClassicalChannel</span><span class="p">(</span><span class="s2">&quot;Channel_A2B&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">cconnection</span><span class="o">.</span><span class="n">add_subcomponent</span><span class="p">(</span><span class="n">cchannel</span><span class="p">,</span>
<span class="gp">... </span>                             <span class="n">forward_input</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;send&quot;</span><span class="p">)],</span>
<span class="gp">... </span>                             <span class="n">forward_output</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;recv&quot;</span><span class="p">)])</span>
</pre></div>
</div>
<p>The connection we’ve constructed is functionally equivalent to the channel,
but hopefully it’s easy to see how it can be extended.
For instance, we could add another one way channel in the opposite direction to make the connection bi-directional (see for example <a class="reference internal" href="api_nodes/netsquid.nodes.connections.html#netsquid.nodes.connections.DirectConnection" title="netsquid.nodes.connections.DirectConnection"><code class="xref py py-class docutils literal notranslate"><span class="pre">DirectConnection</span></code></a>).
Furthermore, because the nodes are only aware of their own ports, a connection can easily be swapped without modifying the node’s implementation.</p>
</section>
<section id="an-entangling-connection-for-teleportation">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">An entangling connection for teleportation <sup>*</sup></a><a class="headerlink" href="#an-entangling-connection-for-teleportation" title="Link to this heading"></a></h2>
<p>A more interesting connection can be constructed to encompass the whole entanglement generation machinery of Charlie from the teleportation example in the previous section.
In particular, this connection, which we will call EntanglingConnection, can contain the quantum source and the quantum channels leading to Alice and Bob:</p>
<a class="reference internal image-reference" href="_images/aafig-bb64252ef6c7bb51ecbbacba9707d1288ceb73aa.svg"><img alt="_images/aafig-bb64252ef6c7bb51ecbbacba9707d1288ceb73aa.svg" height="245.4" src="_images/aafig-bb64252ef6c7bb51ecbbacba9707d1288ceb73aa.svg" width="1064.3999999999999" /></a>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.components.qchannel</span> <span class="kn">import</span> <span class="n">QuantumChannel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.qubits</span> <span class="kn">import</span> <span class="n">StateSampler</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.components.qsource</span> <span class="kn">import</span> <span class="n">QSource</span><span class="p">,</span> <span class="n">SourceStatus</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.components.models</span> <span class="kn">import</span> <span class="n">FixedDelayModel</span><span class="p">,</span> <span class="n">DepolarNoiseModel</span>
<span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">netsquid.qubits.ketstates</span> <span class="k">as</span> <span class="nn">ks</span>
<span class="gp">...</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">EntanglingConnection</span><span class="p">(</span><span class="n">Connection</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">length</span><span class="p">,</span> <span class="n">source_frequency</span><span class="p">):</span>
<span class="gp">... </span>        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;EntanglingConnection&quot;</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">timing_model</span> <span class="o">=</span> <span class="n">FixedDelayModel</span><span class="p">(</span><span class="n">delay</span><span class="o">=</span><span class="p">(</span><span class="mf">1e9</span> <span class="o">/</span> <span class="n">source_frequency</span><span class="p">))</span>
<span class="gp">... </span>        <span class="n">qsource</span> <span class="o">=</span> <span class="n">QSource</span><span class="p">(</span><span class="s2">&quot;qsource&quot;</span><span class="p">,</span> <span class="n">StateSampler</span><span class="p">([</span><span class="n">ks</span><span class="o">.</span><span class="n">b00</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">]),</span> <span class="n">num_ports</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">timing_model</span><span class="o">=</span><span class="n">timing_model</span><span class="p">,</span>
<span class="gp">... </span>                          <span class="n">status</span><span class="o">=</span><span class="n">SourceStatus</span><span class="o">.</span><span class="n">INTERNAL</span><span class="p">)</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">add_subcomponent</span><span class="p">(</span><span class="n">qsource</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">qchannel_c2a</span> <span class="o">=</span> <span class="n">QuantumChannel</span><span class="p">(</span><span class="s2">&quot;qchannel_C2A&quot;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="n">length</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                                      <span class="n">models</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;delay_model&quot;</span><span class="p">:</span> <span class="n">FibreDelayModel</span><span class="p">()})</span>
<span class="gp">... </span>        <span class="n">qchannel_c2b</span> <span class="o">=</span> <span class="n">QuantumChannel</span><span class="p">(</span><span class="s2">&quot;qchannel_C2B&quot;</span><span class="p">,</span> <span class="n">length</span><span class="o">=</span><span class="n">length</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                                      <span class="n">models</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;delay_model&quot;</span><span class="p">:</span> <span class="n">FibreDelayModel</span><span class="p">()})</span>
<span class="gp">... </span>        <span class="c1"># Add channels and forward quantum channel output to external port output:</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">add_subcomponent</span><span class="p">(</span><span class="n">qchannel_c2a</span><span class="p">,</span> <span class="n">forward_output</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;A&quot;</span><span class="p">,</span> <span class="s2">&quot;recv&quot;</span><span class="p">)])</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">add_subcomponent</span><span class="p">(</span><span class="n">qchannel_c2b</span><span class="p">,</span> <span class="n">forward_output</span><span class="o">=</span><span class="p">[(</span><span class="s2">&quot;B&quot;</span><span class="p">,</span> <span class="s2">&quot;recv&quot;</span><span class="p">)])</span>
<span class="gp">... </span>        <span class="c1"># Connect qsource output to quantum channel input:</span>
<span class="gp">... </span>        <span class="n">qsource</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s2">&quot;qout0&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">qchannel_c2a</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s2">&quot;send&quot;</span><span class="p">])</span>
<span class="gp">... </span>        <span class="n">qsource</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s2">&quot;qout1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">qchannel_c2b</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s2">&quot;send&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>The internal clock in the quantum source will automatically trigger this connection to generate entangled qubits and send them as output to its remote ports <em>A</em> and <em>B</em> via quantum channels.</p>
<p>In the next tutorial we will add virtual entities called <em>protocols</em> to our nodes that will describe their behaviour.
Protocols will be very useful for complicated control-flows, and are easier to read and write than what we have shown so far.
The following method demonstrates how to setup a network for teleportation which we can use when setting up Protocols.
In the final simulation we will adjust this method to create and return a <a class="reference internal" href="api_nodes/netsquid.nodes.network.html#netsquid.nodes.network.Network" title="netsquid.nodes.network.Network"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Network</span></code></a> instead of its individual components.
The network class is a composite component that helps to create networks and manage nodes and connections.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">example_network_setup</span><span class="p">(</span><span class="n">node_distance</span><span class="o">=</span><span class="mf">4e-3</span><span class="p">,</span> <span class="n">depolar_rate</span><span class="o">=</span><span class="mf">1e7</span><span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># Setup nodes Alice and Bob with quantum memories:</span>
<span class="gp">... </span>    <span class="n">noise_model</span> <span class="o">=</span> <span class="n">DepolarNoiseModel</span><span class="p">(</span><span class="n">depolar_rate</span><span class="o">=</span><span class="n">depolar_rate</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">alice</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span>
<span class="gp">... </span>        <span class="s2">&quot;Alice&quot;</span><span class="p">,</span> <span class="n">port_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;qin_charlie&#39;</span><span class="p">,</span> <span class="s1">&#39;cout_bob&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="n">qmemory</span><span class="o">=</span><span class="n">QuantumMemory</span><span class="p">(</span><span class="s2">&quot;AliceMemory&quot;</span><span class="p">,</span> <span class="n">num_positions</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">memory_noise_models</span><span class="o">=</span><span class="p">[</span><span class="n">noise_model</span><span class="p">]</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span>
<span class="gp">... </span>    <span class="n">alice</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;qin_charlie&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">forward_input</span><span class="p">(</span><span class="n">alice</span><span class="o">.</span><span class="n">qmemory</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;qin1&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">bob</span> <span class="o">=</span> <span class="n">Node</span><span class="p">(</span>
<span class="gp">... </span>        <span class="s2">&quot;Bob&quot;</span><span class="p">,</span> <span class="n">port_names</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;qin_charlie&#39;</span><span class="p">,</span> <span class="s1">&#39;cin_alice&#39;</span><span class="p">],</span>
<span class="gp">... </span>        <span class="n">qmemory</span><span class="o">=</span><span class="n">QuantumMemory</span><span class="p">(</span><span class="s2">&quot;BobMemory&quot;</span><span class="p">,</span> <span class="n">num_positions</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>                              <span class="n">memory_noise_models</span><span class="o">=</span><span class="p">[</span><span class="n">noise_model</span><span class="p">]))</span>
<span class="gp">... </span>    <span class="n">bob</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;qin_charlie&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">forward_input</span><span class="p">(</span><span class="n">bob</span><span class="o">.</span><span class="n">qmemory</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;qin0&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="c1"># Setup classical connection between nodes:</span>
<span class="gp">... </span>    <span class="n">c_conn</span> <span class="o">=</span> <span class="n">ClassicalConnection</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">node_distance</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">alice</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;cout_bob&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">c_conn</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">bob</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;cin_alice&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">c_conn</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="c1"># Setup entangling connection between nodes:</span>
<span class="gp">... </span>    <span class="n">q_conn</span> <span class="o">=</span> <span class="n">EntanglingConnection</span><span class="p">(</span><span class="n">length</span><span class="o">=</span><span class="n">node_distance</span><span class="p">,</span> <span class="n">source_frequency</span><span class="o">=</span><span class="mf">2e7</span><span class="p">)</span>
<span class="gp">... </span>    <span class="n">alice</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;qin_charlie&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">q_conn</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="n">bob</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;qin_charlie&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">q_conn</span><span class="o">.</span><span class="n">ports</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">])</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">alice</span><span class="p">,</span> <span class="n">bob</span><span class="p">,</span> <span class="n">q_conn</span><span class="p">,</span> <span class="n">c_conn</span>
</pre></div>
</div>
<p>We can test part of our network by checking that after one cycle the entangled qubits have arrived on both quantum memories:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">ns</span><span class="o">.</span><span class="n">set_qstate_formalism</span><span class="p">(</span><span class="n">ns</span><span class="o">.</span><span class="n">QFormalism</span><span class="o">.</span><span class="n">DM</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">alice</span><span class="p">,</span> <span class="n">bob</span><span class="p">,</span> <span class="o">*</span><span class="n">_</span> <span class="o">=</span> <span class="n">example_network_setup</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">stats</span> <span class="o">=</span> <span class="n">ns</span><span class="o">.</span><span class="n">sim_run</span><span class="p">(</span><span class="mi">15</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qA</span><span class="p">,</span> <span class="o">=</span> <span class="n">alice</span><span class="o">.</span><span class="n">qmemory</span><span class="o">.</span><span class="n">peek</span><span class="p">(</span><span class="n">positions</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qB</span><span class="p">,</span> <span class="o">=</span> <span class="n">bob</span><span class="o">.</span><span class="n">qmemory</span><span class="o">.</span><span class="n">peek</span><span class="p">(</span><span class="n">positions</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">qA</span><span class="p">,</span> <span class="n">qB</span>
<span class="go">(Qubit(&#39;qsource-#1-0&#39;), Qubit(&#39;qsource-#1-1&#39;))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fidelity</span> <span class="o">=</span> <span class="n">ns</span><span class="o">.</span><span class="n">qubits</span><span class="o">.</span><span class="n">fidelity</span><span class="p">([</span><span class="n">qA</span><span class="p">,</span> <span class="n">qB</span><span class="p">],</span> <span class="n">ns</span><span class="o">.</span><span class="n">b00</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Entangled fidelity (after 5 ns wait) = </span><span class="si">{</span><span class="n">fidelity</span><span class="si">:</span><span class="s2">.3f</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="go">Entangled fidelity (after 5 ns wait) = 0.964</span>
</pre></div>
</div>
<section id="what-is-next">
<h3>What is next?<a class="headerlink" href="#what-is-next" title="Link to this heading"></a></h3>
<p>In the next section we will use the nodes and connections shown in this tutorial and add protocols to them.
A protocol will be able to react to events and interact with the sub-components of the node it is running at.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="tutorial.components.html" class="btn btn-neutral float-left" title="Modelling of network components" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="tutorial.protocols.html" class="btn btn-neutral float-right" title="Protocols" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2021, TNO and TUDelft (QuTech).</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: 1.1.7
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      <dd><a href="/1-1-stable/">1.1.5</a></dd>
      <dd><a href="/1-0-stable/">1.0.7</a></dd>
      <dd><a href="/0-10-stable/">0.10.4</a></dd>
      <dd><a href="/0-9-stable/">0.9.11</a></dd>
      <dd><a href="/0-8-stable/">0.8.7</a></dd>
      <dd><a href="/0-7-stable/">0.7.5</a></dd>
      <dd><a href="/0-6-stable/">0.6.4</a></dd>
      <dd><a href="/0-5-stable/">0.5.2</a></dd>
      <dd><a href="/0-4-stable/">0.4.2</a></dd>
      <dd><a href="/0-3-stable/">0.3.5</a></dd>
      <dd><a href="/latest-release/">latest release</a></dd>
      <dd><a href="/master/">master branch</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".highlight-default .highlight").each(function() {
            if ($(this).find(".gp").length > 0) {
             $(this).prepend("<div class='codebtn btn btn-neutral float-right'><div class='gp'>>>></div><div>");
             $(this).children("pre").contents().filter(function() {return this.nodeType === 3;}).wrap("<span></span>").end();
            }
        });
        $(".highlight-default .highlight .codebtn").click(function() {
            $(this).parent().children("pre").find(".gp").toggleClass("hidden");
            var traceback_elem = $(this).parent().children("pre").find(".gt, .go");
            traceback_elem.toggleClass("hidden");
            traceback_elem.nextUntil(".gp, .go").toggleClass("hidden");

        })
    });
</script>


</body>
</html>