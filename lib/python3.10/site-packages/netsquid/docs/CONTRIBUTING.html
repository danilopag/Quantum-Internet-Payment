<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contributing &mdash; NetSquid 1.1.7 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=370aedac"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="CHANGELOG" href="CHANGELOG.html" />
    <link rel="prev" title="Building and installing NetSquid from source" href="INSTALL-SOURCE.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #E3E3E3" >

          
          
          <a href="index.html" class="icon icon-home">
            NetSquid
              <img src="_static/squid-150.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.1.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="INSTALL.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="RELEASE.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="AUTHORS.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="LICENSE.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learn NetSquid</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="quick_start.html">NetSquid in 10 minutes</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.intro.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.qubits.html">Qubits and quantum computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.pydynaa.html">Discrete event simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.components.html">Modelling of network components</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.nodes.html">Nodes and Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.protocols.html">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.quantumprocessor.html">The Quantum Processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.simulation.html">A full simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="learn.examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="learn_examples/learn.examples.teleportation.html">Teleportation</a></li>
<li class="toctree-l2"><a class="reference internal" href="learn_examples/learn.examples.repeater.html">Repeater with purification</a></li>
<li class="toctree-l2"><a class="reference internal" href="learn_examples/learn.examples.repeater_chain.html">Repeater chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="learn_examples/learn.examples.simple_link.html">A simple link layer protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="learn_examples/learn.examples.magic_simple_link.html">Faster Link layer Protocol using abstraction</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="api_reference.html">NetSquid package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="netsquid.qubits.html">netsquid.qubits</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qformalism.html">netsquid.qubits.qformalism</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qubitapi.html">netsquid.qubits.qubitapi</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.operators.html">netsquid.qubits.operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.cliffords.html">netsquid.qubits.cliffords</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.ketstates.html">netsquid.qubits.ketstates</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.state_sampler.html">netsquid.qubits.state_sampler</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qubit.html">netsquid.qubits.qubit</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qstate.html">netsquid.qubits.qstate</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qrepr.html">netsquid.qubits.qrepr</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.kettools.html">netsquid.qubits.kettools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.dmtools.html">netsquid.qubits.dmtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.sparsedmtools.html">netsquid.qubits.sparsedmtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.stabtools.html">netsquid.qubits.stabtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.gslctools.html">netsquid.qubits.gslctools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.qreprutil.html">netsquid.qubits.qreprutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.ketutil.html">netsquid.qubits.ketutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.dmutil.html">netsquid.qubits.dmutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.sparseutil.html">netsquid.qubits.sparseutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.gslcutil.html">netsquid.qubits.gslcutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_qubits/netsquid.qubits.opmath.html">netsquid.qubits.opmath</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.components.html">netsquid.components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.component.html">netsquid.components.component</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.channel.html">netsquid.components.channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qchannel.html">netsquid.components.qchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.cchannel.html">netsquid.components.cchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.cqchannel.html">netsquid.components.cqchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qmemory.html">netsquid.components.qmemory</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.instructions.html">netsquid.components.instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qprogram.html">netsquid.components.qprogram</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qprocessor.html">netsquid.components.qprocessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.clock.html">netsquid.components.clock</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qsource.html">netsquid.components.qsource</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.qdetector.html">netsquid.components.qdetector</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.switch.html">netsquid.components.switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_components/netsquid.components.ccoding.html">netsquid.components.ccoding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.components.models.html">netsquid.components.models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_models/netsquid.components.models.model.html">netsquid.components.models.model</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_models/netsquid.components.models.delaymodels.html">netsquid.components.models.delaymodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_models/netsquid.components.models.errormodels.html">netsquid.components.models.errormodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_models/netsquid.components.models.qerrormodels.html">netsquid.componentsmodels.qerrormodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_models/netsquid.components.models.cerrormodels.html">netsquid.components.models.cerrormodels</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.nodes.html">netsquid.nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_nodes/netsquid.nodes.node.html">netsquid.nodes.node</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_nodes/netsquid.nodes.connections.html">netsquid.nodes.connections</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_nodes/netsquid.nodes.network.html">netsquid.nodes.network</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.protocols.html">netsquid.protocols</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_protocols/netsquid.protocols.protocol.html">netsquid.protocols.protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_protocols/netsquid.protocols.nodeprotocols.html">netsquid.protocols.nodeprotocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_protocols/netsquid.protocols.serviceprotocol.html">netsquid.protocols.serviceprotocol</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.util.html">netsquid.util</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.simtools.html">netsquid.util.simtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.simlog.html">netsquid.util.simlog</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.simstats.html">netsquid.util.simstats</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.datacollector.html">netsquid.util.datacollector</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.cycache.html">netsquid.util.cycache</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.cymath.html">netsquid.util.cymath</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_util/netsquid.util.constrainedmap.html">netsquid.util.constrainedmap</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="netsquid.examples.html">netsquid.examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.teleportation.html">netsquid.examples.teleportation</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.entanglenodes.html">netsquid.examples.entanglenodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.purify.html">netsquid.examples.purify</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.repeater.html">netsquid.examples.repeater</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.repeater_chain.html">netsquid.examples.repeater_chain</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.simple_link.html">netsquid.examples.simple_link</a></li>
<li class="toctree-l3"><a class="reference internal" href="api_examples/netsquid.examples.magic_simple_link.html">netsquid.examples.magic_simple_link</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_pydynaa.html">pyDynAA package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html">pydynaa.Entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-event">pydynaa.Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-eventtype">pydynaa.EventType</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-eventexpression">pydynaa.EventExpression</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-eventhandler">pydynaa.EventHandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-expressionhandler">pydynaa.ExpressionHandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="pydynaa.html#pydynaa-simulationengine">pydynaa.SimulationEngine</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For developers</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="INSTALL-SOURCE.html">Installation from source</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #E3E3E3" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">NetSquid</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Contributing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/CONTRIBUTING.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="INSTALL-SOURCE.html" class="btn btn-neutral float-left" title="Building and installing NetSquid from source" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CHANGELOG.html" class="btn btn-neutral float-right" title="CHANGELOG" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Link to this heading"></a></h1>
<p><img alt="coverage" src="https://ci.tno.nl/gitlab/QuTech/NetSQUID/badges/master/coverage.svg" /> <img alt="pipeline" src="https://ci.tno.nl/gitlab/QuTech/NetSQUID/badges/master/pipeline.svg" /></p>
<p>NetSquid has an end-user software <a class="reference internal" href="LICENSE.html"><span class="doc">LICENSE</span></a> that makes it free for non-commercial use
but not <a class="reference external" href="https://opensource.org/licenses">open source</a>.
As a consequence its source code repository is only accessible to its developers i.e. it is not publicly available.</p>
<p>You can still contribute to NetSquid without access to its source repository by creating and sharing NetSquid <a class="reference external" href="https://netsquid.org/snippets/">snippets</a>.
Snippets are user extension packages for NetSquid intended to provide extra functionality or modeling and generally are licensed as open source.</p>
<p><em>The following subsections assume you do have access to the source code repository.</em></p>
<section id="resources-and-links">
<h2>Resources and links<a class="headerlink" href="#resources-and-links" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>The NetSquid source code is hosted on a <a class="reference external" href="https://ci.tno.nl/gitlab/QuTech/NetSQUID">private Gitlab repository</a>.</p></li>
<li><p>As a developer please use the <a class="reference external" href="https://ci.tno.nl/gitlab/QuTech/NetSQUID/issues">Gitlab issues page</a> to report bugs or request features.</p></li>
<li><p>The <a class="reference external" href="https://forum.netsquid.org">NetSquid forum</a> can be used to check new announcements and discuss new features etc. It replaces the <a class="reference external" href="https://3.basecamp.com/3328195/projects/9544552">Basecamp project</a>, which may still be useful for chatting to developers.</p></li>
<li><p>Developer notes (e.g. design notes) can be found at the <a class="reference external" href="https://ci.tno.nl/gitlab/QuTech/NetSQUID/wikis/home">NetSquid wiki pages</a>.</p></li>
</ul>
</section>
<section id="git-and-gitlab">
<h2>Git and GitLab<a class="headerlink" href="#git-and-gitlab" title="Link to this heading"></a></h2>
<p>We use the <a class="reference external" href="https://docs.gitlab.com/ee/workflow/gitlab_flow.html">Gitlab workflow</a>.
The <code class="docutils literal notranslate"><span class="pre">master</span></code> branch contains the latest <em>working</em> development code, and new issue branches (see below) should branch off of <em>master</em>.
By <em>working</em> we mean that the <em>master</em> branch should be passing its tests (also see continuous integration below).
The <em>master</em> branch is <em>protected</em>, meaning that developers must create a merge (pull) request to merge a feature branch into it.</p>
<p>The following branches that have a specific naming patterns (using wildcards) are also protected: <code class="docutils literal notranslate"><span class="pre">*-stable</span></code>, <code class="docutils literal notranslate"><span class="pre">v*-develop</span></code>, and <code class="docutils literal notranslate"><span class="pre">v*-deploy</span></code>.</p>
<ul class="simple">
<li><p>Branches named as <code class="docutils literal notranslate"><span class="pre">X-Y-stable</span></code> are used for stable releases (see below) of a version vX.Y.</p></li>
<li><p>Branches named as <code class="docutils literal notranslate"><span class="pre">vX-develop</span></code> are used for the development of other major versions, vX, that differ from the major version currently being developed in the master branch.</p></li>
<li><p>Branches named as <code class="docutils literal notranslate"><span class="pre">vX-deploy</span></code> are used to deploy development builds related to a specific major version, vX.</p></li>
</ul>
<p>New code should be developed in a separate branch and then merged into one of the protected branches, usually the master branch.
Because any new code should address some kind of <em>issue</em>, e.g. a new feature or a bug, the name of the branch should refer to an <em>Issue</em> number on the <a class="reference external" href="https://ci.tno.nl/gitlab/QuTech/NetSQUID/issues">Gitlab issue tracker</a> i.e. the <em>branch name</em> has the format <code class="docutils literal notranslate"><span class="pre">&lt;issue-number&gt;-&lt;issue-title&gt;</span></code>.
For example, if Alice wants to work on a new feature to refactor qubits, she creates a new <em>Issue</em> on the tracker, assigned the number 12 by Gitlab.
She creates the branch <code class="docutils literal notranslate"><span class="pre">12-refactor-qubits</span></code> with which she will address this issue – by using this naming convention Gitlab automatically couples the branch to the Issue.
Once she is done with this issue she creates a merge request to merge <em>12-refactor-qubits</em> into <em>master</em>.</p>
</section>
<section id="versioning-and-releases">
<h2>Versioning and releases<a class="headerlink" href="#versioning-and-releases" title="Link to this heading"></a></h2>
<p>NetSquid uses <a class="reference external" href="https://semver.org/">semantic versioning</a>.
NetSquid determines the major version using a <code class="docutils literal notranslate"><span class="pre">MAJOR_VERSION</span></code> variable in the <em>version.py</em> module, while minor and patch versions are detmined using the last <em>version tag</em> in the git repository.
For example, if the current commit is tagged with <code class="docutils literal notranslate"><span class="pre">Version</span> <span class="pre">1.1.2</span></code>, then the current commit is considered <em>stable</em> and the version of NetSquid is <code class="docutils literal notranslate"><span class="pre">1.1.2</span></code>,
which can be inspected as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">netsquid</span> <span class="k">as</span> <span class="nn">ns</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ns</span><span class="o">.</span><span class="n">__version__</span>
<span class="go">1.1.2</span>
</pre></div>
</div>
<p>or by running <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">version.py</span></code> in the root directory.
If there are additional commits since the last version tag, then the current commit is a <em>development version</em>.
This is indicated by bumping the minor version by one and appending <code class="docutils literal notranslate"><span class="pre">.dev{N-1}+{commit</span> <span class="pre">hash}</span></code>, where N is the number of additional commits.
For example, if there are 5 commits beyond the tag <code class="docutils literal notranslate"><span class="pre">Version</span> <span class="pre">1.1.2</span></code>, then the version would be <code class="docutils literal notranslate"><span class="pre">1.2.dev4+a19bbd50</span></code> (for some commit hash).
Special profiling or coverage builds append <code class="docutils literal notranslate"><span class="pre">.profile</span></code> or <code class="docutils literal notranslate"><span class="pre">.coverage</span></code> to the end of the version number.</p>
<p>Each major and minor release should be given its own stable branch named <code class="docutils literal notranslate"><span class="pre">X-Y-stable</span></code>, which is a naming pattern that is setup in Gitlab to be protected.
These stable branches can be updated by merging in patch commits to the given release.
Stables branches should always contain <em>stable versions</em> i.e. not <em>development versions</em>.
The <a class="reference external" href="https://docs.gitlab.com/ee/workflow/gitlab_flow.html">Gitlab workflow</a> describes the workflow of updating a release branch e.g. <code class="docutils literal notranslate"><span class="pre">1-1-stable</span></code> for version 1.1:</p>
<blockquote>
<div><p>The stable branch uses master as a starting point and is created as late as possible. By branching as late as possible you minimize the time you have to apply bug fixes to multiple branches. After a release branch is announced, only serious bug fixes are included in the release branch. If possible these bug fixes are first merged into master and then cherry-picked into the release branch.</p>
</div></blockquote>
<p>To release a new major or minor version, X.Y.0, follow these steps:</p>
<ol class="simple">
<li><p>Identify the correct commit on the master branch, and ensure it passes all CI pipeline tests (eg <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">verify</span></code>).</p></li>
<li><p>Ensure CHANGELOG.md is up to date. Note the target audience is <em>developers</em>.</p></li>
<li><p>Add an entry for the release to RELEASE.md summarising the major and minor changes. Note the target audience is <em>users</em>.</p></li>
<li><p>Tag the commit in master with the correct version number e.g. <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">tag</span> <span class="pre">-a</span> <span class="pre">&quot;vX.Y.0&quot;</span> <span class="pre">-m</span> <span class="pre">&quot;Version</span> <span class="pre">X.Y.0&quot;</span></code> and push it to origin with <code class="docutils literal notranslate"><span class="pre">git</span> <span class="pre">push</span> <span class="pre">origin</span> <span class="pre">vX.Y.0</span></code>.</p></li>
<li><p>Create a stable branch <code class="docutils literal notranslate"><span class="pre">X-Y-stable</span></code>, ensure it matches the commit above, and push it to origin. The CI pipeline automatically creates and uploads the binary distributions and online documentation, and also updates the <code class="docutils literal notranslate"><span class="pre">docs/latest-release</span></code> symbolic link on the server if applicable.</p></li>
<li><p>Announce the release by posting the release notes on the NetSquid forum.</p></li>
</ol>
<p>To release a patch version, i.e. X.Y.Z for Z &gt; 0, follows steps 1, 2, and 4 above.
Then merge the tagged commit into the existing <code class="docutils literal notranslate"><span class="pre">X-Y-stable</span></code> branch, and push the result to origin.
The CI pipeline should do the rest.</p>
<p>Other branches that are deployed by the CI pipeline are <code class="docutils literal notranslate"><span class="pre">vX-deploy</span></code>, which requires that the commit is a development version
i.e. a stable version will not be deployed to avoid overriding deployed stable packages.
This branch can be used to share a development version on the python package index when necessary.</p>
</section>
<section id="gitlab-continuous-integration">
<h2>GitLab continuous integration<a class="headerlink" href="#gitlab-continuous-integration" title="Link to this heading"></a></h2>
<p>This repository makes use of the <a class="reference external" href="https://docs.gitlab.com/ee/ci/">GitLab Continuous Integration</a> feature to check compilation and run unit/integration/doc tests after a commit to the remote <code class="docutils literal notranslate"><span class="pre">master</span></code> branch.
This behaviour is specified in the file <code class="docutils literal notranslate"><span class="pre">.gitlab-ci.yml</span></code>.</p>
<p>The CI tests are run on a <em>runner</em> server (at ci.netsquid.org) within a <a class="reference external" href="https://hub.docker.com/r/rknegjens/netsquidci/">Docker container</a>.</p>
</section>
<section id="style-guide">
<h2>Style guide<a class="headerlink" href="#style-guide" title="Link to this heading"></a></h2>
<section id="language">
<h3>Language<a class="headerlink" href="#language" title="Link to this heading"></a></h3>
<p>In both documentation and code naming we use British English, e.g. ‘overridden’ and not ‘overriden’ and ‘optimise’ and not ‘optimize’.</p>
<p>We also prefer ‘sub-protocol’ over ‘subprotocol’ (same holds for sub-package).</p>
</section>
<section id="documentation">
<h3>Documentation<a class="headerlink" href="#documentation" title="Link to this heading"></a></h3>
<p>In general documentation like <em>CHANGELOG.md</em> or <em>RELEASE.md</em> we (try to) use the <em>emphasis style</em> when referring to files and modules and use the <code class="docutils literal notranslate"><span class="pre">code</span> <span class="pre">style</span></code> when referring to classes, functions, methods or variables. We make this distinction to prevent the rendered text to become ‘too red’ on GitLab. For functions and methods we also prefer to add brackets, e.g. <code class="docutils literal notranslate"><span class="pre">method()</span></code>, to more easily distinguish them from variable names.</p>
<section id="code-documentation">
<h4>Code documentation<a class="headerlink" href="#code-documentation" title="Link to this heading"></a></h4>
<p>We use <a class="reference external" href="https://numpydoc.readthedocs.io/en/latest/format.html#docstring-standard">NumPy style docstrings</a>. An example module could look like this:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">This module shows an example on how to document a module.</span>

<span class="sd">Examples</span>
<span class="sd">--------</span>

<span class="sd">&gt;&gt;&gt; from somemodule import Foo</span>
<span class="sd">&gt;&gt;&gt; a = Foo()</span>
<span class="sd">&gt;&gt;&gt; a.bar(2)</span>
<span class="sd">3</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;Foo&quot;</span><span class="p">,</span>
<span class="p">]</span>


<span class="k">class</span> <span class="nc">Foo</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;An example class.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mf">10.</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The sum of two positive numbers.</span>

<span class="sd">        Additional description of the method. Note the blank line before the closing triple quotes.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        a : float</span>
<span class="sd">            First value to add. At least 0.</span>
<span class="sd">        b : float, optional</span>
<span class="sd">            Second value to add. At least 0. Default 10.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        float</span>
<span class="sd">            The sum of the two values.</span>

<span class="sd">        Raises</span>
<span class="sd">        ------</span>
<span class="sd">        ValueError</span>
<span class="sd">            If one of the parameters is non-positive.</span>

<span class="sd">        Examples</span>
<span class="sd">        --------</span>

<span class="sd">        You can add two positive numbers.</span>

<span class="sd">        &gt;&gt;&gt; Foo.add(1, 2)</span>
<span class="sd">        3</span>

<span class="sd">        Alternatively, when providing one number, it will be added to the default value (10).</span>

<span class="sd">        &gt;&gt;&gt; Foo.add(5)</span>
<span class="sd">        15</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">a</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="ow">or</span> <span class="n">b</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Both a and b most be positive.&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>
</pre></div>
</div>
<p>Note: for parameter we prefer the following structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">parameter_name</span> <span class="p">:</span> <span class="nb">type</span><span class="p">(,</span> <span class="n">optional</span><span class="p">)</span>
   <span class="n">Description</span><span class="o">.</span> <span class="n">Constraints</span><span class="o">.</span> <span class="n">Default</span> <span class="n">value</span> <span class="p">[</span><span class="n">unit</span><span class="p">]</span><span class="o">.</span>
</pre></div>
</div>
<p>Since we use <a class="reference external" href="https://www.sphinx-doc.org/en/master/index.html">Sphinx</a> to automatically create html documentation pages we use reStructuredText (reST).</p>
</section>
<section id="referencing">
<h4>Referencing<a class="headerlink" href="#referencing" title="Link to this heading"></a></h4>
<p>In reST you can make <a class="reference external" href="https://www.sphinx-doc.org/en/master/usage/restructuredtext/domains.html?highlight=attr#cross-referencing-python-objects">references</a>.
An example of referencing to a method in the <code class="docutils literal notranslate"><span class="pre">Protocol</span></code> class is:</p>
<p>:py:meth:`~netsquid.protocols.protocol.Protocol.await_port_output`</p>
<p>It is good to give a reference to Python objects that are named in paragraphs or section. If a paragraph contains many references or <code class="docutils literal notranslate"><span class="pre">quotes</span></code> it can look a bit too busy. In this case objects that occur multiple times can be referred to just by name to make the test more readable.</p>
</section>
<section id="maths">
<h4>Maths<a class="headerlink" href="#maths" title="Link to this heading"></a></h4>
<p>Mathematical expressions can be written in restructured text using latex: <code class="docutils literal notranslate"><span class="pre">:math:``(latex</span> <span class="pre">code)``</span> </code> e.g. <code class="docutils literal notranslate"><span class="pre">:math:``\vert</span> <span class="pre">0\rangle``</span> </code>.
When converted to html the expression will be rendered in the browser using mathjax.</p>
</section>
<section id="modules">
<h4>Modules<a class="headerlink" href="#modules" title="Link to this heading"></a></h4>
<p>A module should start with a short description of the module in a multi-line comment. After the imports, the public API of the module should be enumerated in a <code class="docutils literal notranslate"><span class="pre">__all__</span></code> variable as mentioned in <a class="reference external" href="https://pep8.org/#public-and-internal-interfaces">PEP8</a>, e.g:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;ExampleClassA&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ExampleClassB&quot;</span><span class="p">,</span>
    <span class="s2">&quot;function_c&quot;</span>
<span class="p">]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">__all__</span></code> specifies what classes will be imported with <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">module</span> <span class="pre">import</span> <span class="pre">*</span></code>, which is not recommended in modules, but we use it in <strong>init</strong>.py files for the convenience of the user. For example, instead of having to do <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">netsquid.components.qsource</span> <span class="pre">import</span> <span class="pre">QSource</span></code>, a user can use the shorter <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">netsquid.components</span> <span class="pre">import</span> <span class="pre">QSource</span></code>. Developers should <em>always</em> use the complete path for imports in modules and tests to prevent using a wrong version of a class or function.</p>
<p>Also, <code class="docutils literal notranslate"><span class="pre">__all__</span></code> specifies classes and/or functions should be included by Sphinx autodocs, and in what order they appear.</p>
</section>
<section id="doctests">
<h4>Doctests<a class="headerlink" href="#doctests" title="Link to this heading"></a></h4>
<p>All the documentation is checked for code examples using <a class="reference external" href="https://docs.python.org/3/library/doctest.html#module-doctest">doctest</a>. You can check if the examples pass by calling <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">doctests</span></code> or <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">verify</span></code> in a terminal.</p>
<p>A code block is recognized by <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> and the code is checked line by line. In <em>docs/conf.py</em> we have changed the <code class="docutils literal notranslate"><span class="pre">OutputChecker</span></code> to ignore checks when a line returns a value but we do not add it to our docstring, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="mi">1</span> <span class="o">+</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span>
<span class="go">4</span>
</pre></div>
</div>
<p>This would normally fail since <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">+</span> <span class="pre">1</span></code> returns 2. But with our version of the <code class="docutils literal notranslate"><span class="pre">OutputChecker</span></code> this is ignored.</p>
<p>Note that when defining functions or classes in a code example you need to use <code class="docutils literal notranslate"><span class="pre">...</span></code> instead of <code class="docutils literal notranslate"><span class="pre">&gt;&gt;&gt;</span></code> to indicate the continuation of a code block, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">Foo</span><span class="p">():</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">bar</span><span class="p">():</span>
<span class="gp">... </span>        <span class="k">return</span> <span class="mi">42</span>
</pre></div>
</div>
</section>
</section>
<section id="code-style">
<h3>Code style<a class="headerlink" href="#code-style" title="Link to this heading"></a></h3>
<p>We adhere to <a class="reference external" href="https://pep8.org/">PEP 8</a> with a few exceptions (e.g. the maximum line width) as marked in the <code class="docutils literal notranslate"><span class="pre">.flake8</span></code> file.</p>
<p>Next to that we prefer to minimise vertical spacing, i.e. no blank line when PEP8 does not require one. Blank lines are required between classes and functions, but within functions we keep it as condensed as possible. To indicate a separate section within a function you could add a single comment line.</p>
<p>To check if your code complies with PEP8 (and Flake8, explained <a class="reference external" href="https://blog.sideci.com/about-style-guide-of-python-and-linter-tool-pep8-pyflakes-flake8-haking-pyling-7fdbe163079d">here</a> is a “wrapper which verifies pep8, pyflakes and circular complexity”), you can run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">lint</span></code> in your terminal.</p>
</section>
<section id="naming">
<h3>Naming<a class="headerlink" href="#naming" title="Link to this heading"></a></h3>
<p>We follow the naming conventions as described by <a class="reference external" href="https://pep8.org/#naming-conventions">PEP8</a>.</p>
<p>Note, a few common pitfalls are that classes should be written <code class="docutils literal notranslate"><span class="pre">CamelCase</span></code> and functions, methods and parameters using <code class="docutils literal notranslate"><span class="pre">snake_case</span></code>.</p>
<p>Within NetSquid we use lower case without underscores for files and directories. Files containing unit tests and integration tests start with <code class="docutils literal notranslate"><span class="pre">test_</span></code> and <code class="docutils literal notranslate"><span class="pre">testint_</span></code>, respectively.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="INSTALL-SOURCE.html" class="btn btn-neutral float-left" title="Building and installing NetSquid from source" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="CHANGELOG.html" class="btn btn-neutral float-right" title="CHANGELOG" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2021, TNO and TUDelft (QuTech).</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: 1.1.7
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      <dd><a href="/1-1-stable/">1.1.5</a></dd>
      <dd><a href="/1-0-stable/">1.0.7</a></dd>
      <dd><a href="/0-10-stable/">0.10.4</a></dd>
      <dd><a href="/0-9-stable/">0.9.11</a></dd>
      <dd><a href="/0-8-stable/">0.8.7</a></dd>
      <dd><a href="/0-7-stable/">0.7.5</a></dd>
      <dd><a href="/0-6-stable/">0.6.4</a></dd>
      <dd><a href="/0-5-stable/">0.5.2</a></dd>
      <dd><a href="/0-4-stable/">0.4.2</a></dd>
      <dd><a href="/0-3-stable/">0.3.5</a></dd>
      <dd><a href="/latest-release/">latest release</a></dd>
      <dd><a href="/master/">master branch</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".highlight-default .highlight").each(function() {
            if ($(this).find(".gp").length > 0) {
             $(this).prepend("<div class='codebtn btn btn-neutral float-right'><div class='gp'>>>></div><div>");
             $(this).children("pre").contents().filter(function() {return this.nodeType === 3;}).wrap("<span></span>").end();
            }
        });
        $(".highlight-default .highlight .codebtn").click(function() {
            $(this).parent().children("pre").find(".gp").toggleClass("hidden");
            var traceback_elem = $(this).parent().children("pre").find(".gt, .go");
            traceback_elem.toggleClass("hidden");
            traceback_elem.nextUntil(".gp, .go").toggleClass("hidden");

        })
    });
</script>


</body>
</html>