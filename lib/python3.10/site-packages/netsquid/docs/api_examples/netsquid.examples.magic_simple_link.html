<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>netsquid.examples.magic_simple_link &mdash; NetSquid 1.1.7 documentation</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../_static/style.css" type="text/css" />
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=370aedac"></script>
        <script src="../_static/doctools.js?v=888ff710"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="pyDynAA package" href="../api_pydynaa.html" />
    <link rel="prev" title="netsquid.examples.simple_link" href="netsquid.examples.simple_link.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #E3E3E3" >

          
          
          <a href="../index.html" class="icon icon-home">
            NetSquid
              <img src="../_static/squid-150.png" class="logo" alt="Logo"/>
          </a>
              <div class="version">
                1.1.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">About</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RELEASE.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../AUTHORS.html">Authors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../LICENSE.html">License</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Learn NetSquid</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quick_start.html">NetSquid in 10 minutes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.intro.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.qubits.html">Qubits and quantum computation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.pydynaa.html">Discrete event simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.components.html">Modelling of network components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.nodes.html">Nodes and Connections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.protocols.html">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.quantumprocessor.html">The Quantum Processor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial.simulation.html">A full simulation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../learn.examples.html">Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../learn_examples/learn.examples.teleportation.html">Teleportation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learn_examples/learn.examples.repeater.html">Repeater with purification</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learn_examples/learn.examples.repeater_chain.html">Repeater chain</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learn_examples/learn.examples.simple_link.html">A simple link layer protocol</a></li>
<li class="toctree-l2"><a class="reference internal" href="../learn_examples/learn.examples.magic_simple_link.html">Faster Link layer Protocol using abstraction</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api_reference.html">NetSquid package</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../netsquid.qubits.html">netsquid.qubits</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qformalism.html">netsquid.qubits.qformalism</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qubitapi.html">netsquid.qubits.qubitapi</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.operators.html">netsquid.qubits.operators</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.cliffords.html">netsquid.qubits.cliffords</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.ketstates.html">netsquid.qubits.ketstates</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.state_sampler.html">netsquid.qubits.state_sampler</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qubit.html">netsquid.qubits.qubit</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qstate.html">netsquid.qubits.qstate</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qrepr.html">netsquid.qubits.qrepr</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.kettools.html">netsquid.qubits.kettools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.dmtools.html">netsquid.qubits.dmtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.sparsedmtools.html">netsquid.qubits.sparsedmtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.stabtools.html">netsquid.qubits.stabtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.gslctools.html">netsquid.qubits.gslctools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.qreprutil.html">netsquid.qubits.qreprutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.ketutil.html">netsquid.qubits.ketutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.dmutil.html">netsquid.qubits.dmutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.sparseutil.html">netsquid.qubits.sparseutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.gslcutil.html">netsquid.qubits.gslcutil</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_qubits/netsquid.qubits.opmath.html">netsquid.qubits.opmath</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../netsquid.components.html">netsquid.components</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.component.html">netsquid.components.component</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.channel.html">netsquid.components.channel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.qchannel.html">netsquid.components.qchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.cchannel.html">netsquid.components.cchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.cqchannel.html">netsquid.components.cqchannel</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.qmemory.html">netsquid.components.qmemory</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.instructions.html">netsquid.components.instructions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.qprogram.html">netsquid.components.qprogram</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.qprocessor.html">netsquid.components.qprocessor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.clock.html">netsquid.components.clock</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.qsource.html">netsquid.components.qsource</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.qdetector.html">netsquid.components.qdetector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.switch.html">netsquid.components.switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_components/netsquid.components.ccoding.html">netsquid.components.ccoding</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../netsquid.components.models.html">netsquid.components.models</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_models/netsquid.components.models.model.html">netsquid.components.models.model</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_models/netsquid.components.models.delaymodels.html">netsquid.components.models.delaymodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_models/netsquid.components.models.errormodels.html">netsquid.components.models.errormodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_models/netsquid.components.models.qerrormodels.html">netsquid.componentsmodels.qerrormodels</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_models/netsquid.components.models.cerrormodels.html">netsquid.components.models.cerrormodels</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../netsquid.nodes.html">netsquid.nodes</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_nodes/netsquid.nodes.node.html">netsquid.nodes.node</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_nodes/netsquid.nodes.connections.html">netsquid.nodes.connections</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_nodes/netsquid.nodes.network.html">netsquid.nodes.network</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../netsquid.protocols.html">netsquid.protocols</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html">netsquid.protocols.protocol</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_protocols/netsquid.protocols.nodeprotocols.html">netsquid.protocols.nodeprotocols</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html">netsquid.protocols.serviceprotocol</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../netsquid.util.html">netsquid.util</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.simtools.html">netsquid.util.simtools</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.simlog.html">netsquid.util.simlog</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.simstats.html">netsquid.util.simstats</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.datacollector.html">netsquid.util.datacollector</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.cycache.html">netsquid.util.cycache</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.cymath.html">netsquid.util.cymath</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api_util/netsquid.util.constrainedmap.html">netsquid.util.constrainedmap</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="../netsquid.examples.html">netsquid.examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="netsquid.examples.teleportation.html">netsquid.examples.teleportation</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.examples.entanglenodes.html">netsquid.examples.entanglenodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.examples.purify.html">netsquid.examples.purify</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.examples.repeater.html">netsquid.examples.repeater</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.examples.repeater_chain.html">netsquid.examples.repeater_chain</a></li>
<li class="toctree-l3"><a class="reference internal" href="netsquid.examples.simple_link.html">netsquid.examples.simple_link</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">netsquid.examples.magic_simple_link</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api_pydynaa.html">pyDynAA package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html">pydynaa.Entity</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-event">pydynaa.Event</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-eventtype">pydynaa.EventType</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-eventexpression">pydynaa.EventExpression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-eventhandler">pydynaa.EventHandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-expressionhandler">pydynaa.ExpressionHandler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../pydynaa.html#pydynaa-simulationengine">pydynaa.SimulationEngine</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">For developers</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../INSTALL-SOURCE.html">Installation from source</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CONTRIBUTING.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CHANGELOG.html">Changelog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu"  style="background: #E3E3E3" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">NetSquid</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../api_reference.html">NetSquid package</a></li>
          <li class="breadcrumb-item"><a href="../netsquid.examples.html">netsquid.examples</a></li>
      <li class="breadcrumb-item active">netsquid.examples.magic_simple_link</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/api_examples/netsquid.examples.magic_simple_link.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul><div class="rst-breadcrumbs-buttons" role="navigation" aria-label="Sequential page navigation">
        <a href="netsquid.examples.simple_link.html" class="btn btn-neutral float-left" title="netsquid.examples.simple_link" accesskey="p"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api_pydynaa.html" class="btn btn-neutral float-right" title="pyDynAA package" accesskey="n">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
  </div>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="netsquid-examples-magic-simple-link">
<h1>netsquid.examples.magic_simple_link<a class="headerlink" href="#netsquid-examples-magic-simple-link" title="Link to this heading"></a></h1>
<p>When creating complicated simulations the runtime may become extremely long.
In certain cases this problem can be solved by approximating certain parts of the simulation.
Attempting entanglement creation is such a process, in this example
we will extend the <a class="reference external" href="learn.examples.simple_link.html">simple_link example</a>
and replace a part of the simulation with a quicker implementation.
Instead of modelling the complete underlying behaviour, we make an abstraction and think of these details
as part of a black box.
It is sufficient to only model the output of this black box, granted we follow the same distribution.
By doing so we break the locality constraints we would normally like to enforce.
Breaking these constraints can be considered ‘cheating’,
but as this is a simulation detail it is usually referred to as ‘magic’.</p>
<p>In this example we take the <code class="docutils literal notranslate"><span class="pre">EGService</span></code> as a whole, however we implement a new handler function.
In order to make this handler function cheat locality we have to give the service a reference to the
other service.
Instead of communicating with the other service and generating attempts,
we can skip all attempts and put the state we are after into the memories
on both nodes after the expected simulation time using some timers.
Of course, these timers should follow the same distribution as they would have in the original service, but for
this example we take a static delay.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MagicEGProtocol</span><span class="p">(</span><span class="n">EGService</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Extends the EGService by magically creating the qubits.</span>

<span class="sd">    Skips communicating with the other service and &#39;magically&#39; puts qubits</span>
<span class="sd">    into the node&#39;s memory. The service sends a response signal once the protocol is finished.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    node : :class:`~netsquid.nodes.node.Node`</span>
<span class="sd">        The node this protocol runs on.</span>
<span class="sd">    name : str, optional</span>
<span class="sd">        The name of this protocol. Default &#39;MagicEGProtocol&#39;.</span>

<span class="sd">    Attributes</span>
<span class="sd">    ----------</span>
<span class="sd">    req_create : namedtuple</span>
<span class="sd">        A request to create entanglement with a remote node.</span>
<span class="sd">    res_ok : namedtuple</span>
<span class="sd">        A response to indicate a create request has finished.</span>

<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">node</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s2">&quot;MagicEGProtocol&quot;</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">node</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="p">)</span>
        <span class="c1"># Sample our expected states weighted by their probabilities</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_sampler</span> <span class="o">=</span> <span class="n">StateSampler</span><span class="p">([</span><span class="n">ns</span><span class="o">.</span><span class="n">b01</span><span class="p">,</span> <span class="n">ns</span><span class="o">.</span><span class="n">b11</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.5</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">])</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_other_service</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">add_other_service</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">service</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_other_service</span> <span class="o">=</span> <span class="n">service</span>

    <span class="k">def</span> <span class="nf">handle_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">identifier</span><span class="p">,</span> <span class="n">start_time</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Schedule the request.</span>

<span class="sd">        Schedule the request in a queue and</span>
<span class="sd">        signal to :meth:`~netsquid.examples.simple_link.EGProtocol.run`</span>
<span class="sd">        new items have been put into the queue.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        request :</span>
<span class="sd">            The object representing the request.</span>
<span class="sd">        identifier : str</span>
<span class="sd">            The identifier for this request.</span>
<span class="sd">        start_time : float, optional</span>
<span class="sd">            The time after which the request can be executed.</span>
<span class="sd">        kwargs : dict</span>
<span class="sd">            Additional arguments not part of the original request.</span>

<span class="sd">        Returns</span>
<span class="sd">        -------</span>
<span class="sd">        dict</span>
<span class="sd">            The dictionary with additional arguments.</span>
<span class="sd">            For the create request this is the unique entanglement id.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">start_time</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="c1"># By default we wait until we expect the message to have arrived</span>
            <span class="n">travel_time</span> <span class="o">=</span> <span class="mi">10000</span>
            <span class="n">start_time</span> <span class="o">=</span> <span class="n">ns</span><span class="o">.</span><span class="n">sim_time</span><span class="p">()</span> <span class="o">+</span> <span class="n">travel_time</span>
        <span class="k">if</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;create_id&#39;</span><span class="p">)</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">kwargs</span><span class="p">[</span><span class="s1">&#39;create_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_get_next_create_id</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">queue</span><span class="o">.</span><span class="n">append</span><span class="p">((</span><span class="n">start_time</span><span class="p">,</span> <span class="p">(</span><span class="n">identifier</span><span class="p">,</span> <span class="n">request</span><span class="p">,</span> <span class="n">kwargs</span><span class="p">)))</span>
        <span class="c1"># Send ourselves a signal we got a new request</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">send_signal</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_new_req_signal</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">kwargs</span>

    <span class="k">def</span> <span class="nf">create</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">purpose_id</span><span class="p">,</span> <span class="n">number</span><span class="p">,</span> <span class="n">create_id</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Magic handler of create requests.</span>

<span class="sd">        Parameters</span>
<span class="sd">        ----------</span>
<span class="sd">        purpose_id : int</span>
<span class="sd">            The number used to tag this request for a specific purpose in a higher layer.</span>
<span class="sd">        number : int</span>
<span class="sd">            The number of qubits to make in this request.</span>
<span class="sd">        create_id : int</span>
<span class="sd">            The unique number associated with this request.</span>

<span class="sd">        Yields</span>
<span class="sd">        ------</span>
<span class="sd">        :class:`~pydynaa.core.EventExpression`</span>
<span class="sd">            The expressions required to execute the create request.</span>

<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">for</span> <span class="n">curpairs</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">number</span><span class="p">):</span>
            <span class="c1"># We wait a bit, this should be sampled from a distribution.</span>
            <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">await_timer</span><span class="p">(</span><span class="mi">1000000</span><span class="p">)</span>
            <span class="c1"># We reserve position 0 for the communication qubit</span>
            <span class="n">qpos</span> <span class="o">=</span> <span class="n">curpairs</span> <span class="o">+</span> <span class="mi">1</span>
            <span class="n">qubits</span> <span class="o">=</span> <span class="n">ns</span><span class="o">.</span><span class="n">qubits</span><span class="o">.</span><span class="n">create_qubits</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
            <span class="n">qstate</span><span class="p">,</span> <span class="n">_</span><span class="p">,</span> <span class="n">_</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sampler</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span>
            <span class="n">ns</span><span class="o">.</span><span class="n">qubits</span><span class="o">.</span><span class="n">assign_qstate</span><span class="p">(</span><span class="n">qubits</span><span class="p">,</span> <span class="n">qstate</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">qmemory</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">qubits</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">positions</span><span class="o">=</span><span class="p">[</span><span class="n">qpos</span><span class="p">])</span>
            <span class="c1"># Here we cheat by putting the qubits into the memory manually</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_other_service</span><span class="o">.</span><span class="n">node</span><span class="o">.</span><span class="n">qmemory</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="n">qubits</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="n">positions</span><span class="o">=</span><span class="p">[</span><span class="n">qpos</span><span class="p">])</span>
            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">res_ok</span><span class="p">(</span><span class="n">purpose_id</span><span class="p">,</span> <span class="n">create_id</span><span class="p">,</span> <span class="n">qpos</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">send_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
            <span class="c1"># Cheat again to make sure the response is also send via Bob</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_other_service</span><span class="o">.</span><span class="n">send_response</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
</pre></div>
</div>
<p>Setting up our protocols is almost identical, however there is
no need to communicate anymore, therefore the protocol doesn’t need to know which port to use.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">setup_protocol</span><span class="p">(</span><span class="n">network</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Configure the protocols.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    network : :class:`~netsquid.nodes.network.Network`</span>
<span class="sd">        The network to configure the protocols on. Should consist of two nodes</span>
<span class="sd">        called Alice and Bob.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    :class:`~netsquid.protocols.protocol.Protocol`</span>
<span class="sd">        A protocol describing the complete simple link setup.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">nodes</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">nodes</span>
    <span class="n">alice_egp</span> <span class="o">=</span> <span class="n">MagicEGProtocol</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;Alice&#39;</span><span class="p">])</span>
    <span class="n">bob_egp</span> <span class="o">=</span> <span class="n">MagicEGProtocol</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="s1">&#39;Bob&#39;</span><span class="p">])</span>
    <span class="c1"># The services need a reference to each other in order to cheat</span>
    <span class="n">alice_egp</span><span class="o">.</span><span class="n">add_other_service</span><span class="p">(</span><span class="n">bob_egp</span><span class="p">)</span>
    <span class="n">bob_egp</span><span class="o">.</span><span class="n">add_other_service</span><span class="p">(</span><span class="n">alice_egp</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">NetworkProtocol</span><span class="p">(</span><span class="s2">&quot;SimpleLinkProtocol&quot;</span><span class="p">,</span> <span class="n">alice_egp</span><span class="p">,</span> <span class="n">bob_egp</span><span class="p">)</span>
</pre></div>
</div>
<p>Running the protocols in the same manner we did in the simple link example,</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">run_simulation</span><span class="p">():</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Run the example simulation.</span>

<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ns</span><span class="o">.</span><span class="n">sim_reset</span><span class="p">()</span>
    <span class="n">ns</span><span class="o">.</span><span class="n">set_random_state</span><span class="p">(</span><span class="mi">42</span><span class="p">)</span>  <span class="c1"># Set the seed so we get the same outcome</span>
    <span class="n">ns</span><span class="o">.</span><span class="n">set_qstate_formalism</span><span class="p">(</span><span class="n">QFormalism</span><span class="o">.</span><span class="n">DM</span><span class="p">)</span>
    <span class="n">network</span> <span class="o">=</span> <span class="n">create_example_network</span><span class="p">()</span>
    <span class="n">protocol</span> <span class="o">=</span> <span class="n">setup_protocol</span><span class="p">(</span><span class="n">network</span><span class="p">)</span>
    <span class="n">protocol</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>
    <span class="n">ns</span><span class="o">.</span><span class="n">sim_run</span><span class="p">()</span>
</pre></div>
</div>
<p>will give us the following output:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">netsquid.examples.magic_simple_link</span> <span class="kn">import</span> <span class="n">run_simulation</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">run_simulation</span><span class="p">()</span>
<span class="go">Waiting for responses with create_id 1</span>
<span class="go">Qubits between Alice and Bob with purpose_id 4:</span>
<span class="go">   1010000: [Qubit(&#39;QS#0-0&#39;), Qubit(&#39;QS#0-1&#39;)] with create_id 1</span>
<span class="go">   2010000: [Qubit(&#39;QS#1-0&#39;), Qubit(&#39;QS#1-1&#39;)] with create_id 1</span>
<span class="go">   3010000: [Qubit(&#39;QS#2-0&#39;), Qubit(&#39;QS#2-1&#39;)] with create_id 1</span>
<span class="go">Waiting for responses with create_id 2</span>
<span class="go">Waiting for responses with create_id 3</span>
<span class="go">Qubits between Alice and Bob with purpose_id 6:</span>
<span class="go">   4020000: [Qubit(&#39;QS#3-0&#39;), Qubit(&#39;QS#3-1&#39;)] with create_id 2</span>
<span class="go">   5020000: [Qubit(&#39;QS#4-0&#39;), Qubit(&#39;QS#4-1&#39;)] with create_id 2</span>
<span class="go">Qubits between Alice and Bob with purpose_id 4:</span>
<span class="go">   6020000: [Qubit(&#39;QS#5-0&#39;), Qubit(&#39;QS#5-1&#39;)] with create_id 3</span>
<span class="go">Finished all network requests</span>
</pre></div>
</div>
<p>In the output we see the main difference is the number of qubits that have been generated in the simulation
is vastly smaller.
Instead of the almost 10000 qubits we only needed 12.
Would we have gotten the correct distribution for the delays the simulation wouldn’t behave differently,
yet this version can be computed a lot faster.</p>
<dl class="py class">
<dt class="sig sig-object py">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">netsquid.examples.magic_simple_link.</span></span><span class="sig-name descname"><span class="pre">MagicEGProtocol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'MagicEGProtocol'</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">EGService</span></code></p>
<p>Extends the EGService by magically creating the qubits.</p>
<p>Skips communicating with the other service and ‘magically’ puts qubits
into the node’s memory. The service sends a response signal once the protocol is finished.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>node</strong> (<a class="reference internal" href="../api_nodes/netsquid.nodes.node.html#netsquid.nodes.node.Node" title="netsquid.nodes.node.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a>) – The node this protocol runs on.</p></li>
<li><p><strong>name</strong> (<em>str, optional</em>) – The name of this protocol. Default ‘MagicEGProtocol’.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">req_create</span></span></dt>
<dd><p>A request to create entanglement with a remote node.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>namedtuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">res_ok</span></span></dt>
<dd><p>A response to indicate a create request has finished.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>namedtuple</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">handle_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Schedule the request.</p>
<p>Schedule the request in a queue and
signal to <code class="xref py py-meth docutils literal notranslate"><span class="pre">run()</span></code>
new items have been put into the queue.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> – The object representing the request.</p></li>
<li><p><strong>identifier</strong> (<em>str</em>) – The identifier for this request.</p></li>
<li><p><strong>start_time</strong> (<em>float, optional</em>) – The time after which the request can be executed.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – Additional arguments not part of the original request.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The dictionary with additional arguments.
For the create request this is the unique entanglement id.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">purpose_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">number</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create_id</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Magic handler of create requests.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>purpose_id</strong> (<em>int</em>) – The number used to tag this request for a specific purpose in a higher layer.</p></li>
<li><p><strong>number</strong> (<em>int</em>) – The number of qubits to make in this request.</p></li>
<li><p><strong>create_id</strong> (<em>int</em>) – The unique number associated with this request.</p></li>
</ul>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../pydynaa.html#pydynaa.core.EventExpression" title="pydynaa.core.EventExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventExpression</span></code></a> – The expressions required to execute the create request.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Adds a signal type to the protocol that it can signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">Enum</span></code>) – The label to use to reference the signal.</p></li>
<li><p><strong>event_type</strong> (<a class="reference internal" href="../pydynaa.html#pydynaa.core.EventType" title="pydynaa.core.EventType"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventType</span></code></a> or None, optional) – Event type to use for the signal type. If None, an event type is created unless
the <code class="docutils literal notranslate"><span class="pre">label</span></code> is an <code class="xref py py-obj docutils literal notranslate"><span class="pre">Enum</span></code> with a <a class="reference internal" href="../pydynaa.html#pydynaa.core.EventType" title="pydynaa.core.EventType"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventType</span></code></a> as value,
in which case this is used.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The event type of the added signal type.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../pydynaa.html#pydynaa.core.EventType" title="pydynaa.core.EventType"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventType</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">add_subprotocol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subprotocol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Add a sub-protocol to this protocol.</p>
<p>Neither protocol should be running and both protocols must be able to
signal to each other (see <a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol.can_signal_to" title="netsquid.protocols.protocol.Protocol.can_signal_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">can_signal_to()</span></code></a>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>subprotocol</strong> (<a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol" title="netsquid.protocols.protocol.Protocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a>) – Protocol to add as a sub-protocol.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – Reference name (key) to use for sub-protocol. If None, the name
of the sub-protocol is used.
If a sub-protocol using the same <code class="docutils literal notranslate"><span class="pre">name</span></code> already
exists it is overridden.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../api_util/netsquid.util.constrainedmap.html#netsquid.util.constrainedmap.ConstraintError" title="netsquid.util.constrainedmap.ConstraintError"><strong>ConstraintError</strong></a> – If either of the protocols is running, or if the protocols cannot signal
    to each other in both directions.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">await_mempos_busy_toggle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span> <span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QuantumMemory</span> <span class="pre">qmemory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span> <span class="pre">positions</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Create an event expression that waits for one of the memory positions
on a quantum memory to change the value of the busy state.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qmemory</strong> (<a class="reference internal" href="../api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.QuantumMemory" title="netsquid.components.qmemory.QuantumMemory"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuantumMemory</span></code></a>) – The quantum memory to wait for.</p></li>
<li><p><strong>positions</strong> (<em>list of int</em>) – The memory positions to wait for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The event expression that will wait for one of the memory positions to toggle its busy flag.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../pydynaa.html#pydynaa.core.EventExpression" title="pydynaa.core.EventExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventExpression</span></code></a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – The <code class="docutils literal notranslate"><span class="pre">qmemory</span></code> parameter is not of type <a class="reference internal" href="../api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.QuantumMemory" title="netsquid.components.qmemory.QuantumMemory"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuantumMemory</span></code></a>.</p></li>
<li><p><strong>IndexError</strong> – If the positions given don’t match a valid <a class="reference internal" href="../api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.MemoryPosition" title="netsquid.components.qmemory.MemoryPosition"><code class="xref py py-class docutils literal notranslate"><span class="pre">MemoryPosition</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Memory positions can enable if they schedule events when the busy flag is toggled by
setting <a class="reference internal" href="../api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.MemoryPosition.busy_event_enabled" title="netsquid.components.qmemory.MemoryPosition.busy_event_enabled"><code class="xref py py-attr docutils literal notranslate"><span class="pre">busy_event_enabled</span></code></a>.
Because by default <cite>busy_event_enabled</cite> is False, we enable it here.
It is disabled when <a class="reference internal" href="../api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.QuantumMemory.reset" title="netsquid.components.qmemory.QuantumMemory.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset()</span></code></a> is called, otherwise it must be manually disabled.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">await_mempos_in_use_toggle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span> <span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">QuantumMemory</span> <span class="pre">qmemory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list</span> <span class="pre">positions</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Wait for when one of the positions of a quantum memory toggle their in_use flag.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>qmemory</strong> (<a class="reference internal" href="../api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.QuantumMemory" title="netsquid.components.qmemory.QuantumMemory"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuantumMemory</span></code></a>) – The quantum memory to wait for.</p></li>
<li><p><strong>positions</strong> (<em>list of int</em>) – The positions to wait for.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The event expression that will wait for one of the memory positions to toggle its in_use flag.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../pydynaa.html#pydynaa.core.EventExpression" title="pydynaa.core.EventExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventExpression</span></code></a></p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>TypeError</strong> – qmemory is not of type <a class="reference internal" href="../api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.QuantumMemory" title="netsquid.components.qmemory.QuantumMemory"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuantumMemory</span></code></a>.</p></li>
<li><p><strong>IndexError</strong> – If the positions given don’t match a valid <a class="reference internal" href="../api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.MemoryPosition" title="netsquid.components.qmemory.MemoryPosition"><code class="xref py py-class docutils literal notranslate"><span class="pre">MemoryPosition</span></code></a>.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Memory positions can enable if they schedule events when the in_use flag is toggled by
setting <a class="reference internal" href="../api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.MemoryPosition.in_use_event_enabled" title="netsquid.components.qmemory.MemoryPosition.in_use_event_enabled"><code class="xref py py-attr docutils literal notranslate"><span class="pre">in_use_event_enabled</span></code></a>.
Because by default <cite>in_use_event_enabled</cite> is False, we enable it here.
It is disabled when <a class="reference internal" href="../api_components/netsquid.components.qmemory.html#netsquid.components.qmemory.QuantumMemory.reset" title="netsquid.components.qmemory.QuantumMemory.reset"><code class="xref py py-meth docutils literal notranslate"><span class="pre">reset()</span></code></a> is called, otherwise it must be manually disabled.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">await_port_input</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span> <span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Create an event expression that waits until the specified port receives a message input.</p>
<p>The event expression will also trigger if the message is passed through the port.
The expression must be <em>yielded</em> on to come into effect (see example below).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>port</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Port</span></code>) – Port to listen to</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>EventExpression that the protocol yields on.
The message of the port can be fetched with <a class="reference internal" href="../api_components/netsquid.components.component.html#netsquid.components.component.Port.rx_input" title="netsquid.components.component.Port.rx_input"><code class="xref py py-func docutils literal notranslate"><span class="pre">rx_input()</span></code></a></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../pydynaa.html#pydynaa.core.EventExpression" title="pydynaa.core.EventExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventExpression</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyProtocol</span><span class="p">(</span><span class="n">ns</span><span class="o">.</span><span class="n">protocols</span><span class="o">.</span><span class="n">Protocol</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">msg_header</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="n">port</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">msg_header</span> <span class="o">=</span> <span class="n">msg_header</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">await_port_input</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">message</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="o">.</span><span class="n">rx_input</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_header</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">message</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">... </span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A message was input via port </span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="n">message</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">await_port_output</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span> <span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">port</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Create an event expression that waits until the specified port has a message output.</p>
<p>The event expression will also trigger if the message is passed through the port.
The expression must be <em>yielded</em> on to come into effect (see example below).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>port</strong> (<a class="reference internal" href="../api_components/netsquid.components.component.html#netsquid.components.component.Port" title="netsquid.components.component.Port"><code class="xref py py-class docutils literal notranslate"><span class="pre">Port</span></code></a>) – Port to listen to</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Expression that the protocol yields on.
The message of the port can be fetched with <a class="reference internal" href="../api_components/netsquid.components.component.html#netsquid.components.component.Port.rx_output" title="netsquid.components.component.Port.rx_output"><code class="xref py py-func docutils literal notranslate"><span class="pre">rx_output()</span></code></a></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../pydynaa.html#pydynaa.core.EventExpression" title="pydynaa.core.EventExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventExpression</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">MyProtocol</span><span class="p">(</span><span class="n">ns</span><span class="o">.</span><span class="n">protocols</span><span class="o">.</span><span class="n">Protocol</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">port</span><span class="p">,</span> <span class="n">msg_header</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">port</span> <span class="o">=</span> <span class="n">port</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">msg_header</span> <span class="o">=</span> <span class="n">msg_header</span>
<span class="gp">...</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="k">yield</span> <span class="bp">self</span><span class="o">.</span><span class="n">await_port_output</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">)</span>
<span class="gp">... </span>        <span class="n">message</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="o">.</span><span class="n">rx_output</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">msg_header</span><span class="p">)</span>
<span class="gp">... </span>        <span class="k">if</span> <span class="n">message</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
<span class="gp">... </span>            <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;A message was output via port </span><span class="si">{}</span><span class="s2">: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">port</span><span class="p">,</span> <span class="n">message</span><span class="p">))</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">await_program</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">type</span> <span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">processor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">await_done=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">await_fail=False</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Create an event expression that waits for a program on a quantum processor to stop running.</p>
<p>The expression must be <em>yielded</em> on to come into effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>processor</strong> (<a class="reference internal" href="../api_components/netsquid.components.qprocessor.html#netsquid.components.qprocessor.QuantumProcessor" title="netsquid.components.qprocessor.QuantumProcessor"><code class="xref py py-class docutils literal notranslate"><span class="pre">QuantumProcessor</span></code></a>) – The processor that runs the program</p></li>
<li><p><strong>await_done</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, default True) – Whether to wait for the program to successfully finish.</p></li>
<li><p><strong>await_fail</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code>, default False) – Whether to wait for the program to fail.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The event expression that will wait for the quantum program to stop.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../pydynaa.html#pydynaa.core.EventExpression" title="pydynaa.core.EventExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventExpression</span></code></a></p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>If both <cite>await_done</cite> and <cite>await_fail</cite> are set to True, it will wait until the program either finishes or fails.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">await_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">Protocol</span> <span class="pre">sender</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal_label=Signals.FINISHED</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Create an event expression that waits until a sender has sent a specified signal.</p>
<p>The expression must be <em>yielded</em> on to come into effect (see example below).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>sender</strong> (<a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol" title="netsquid.protocols.protocol.Protocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a>) – Protocol that will send the signal.</p></li>
<li><p><strong>signal_label</strong> (<em>int or str or Enum, optional</em>) – The signal label to wait for.
Default is <code class="xref py py-attr docutils literal notranslate"><span class="pre">FINISHED</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>EventExpression that the protocol yields on.
The signal result can be retrieved from the protocol with <a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol.get_signal_result" title="netsquid.protocols.protocol.Protocol.get_signal_result"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_signal_result()</span></code></a>
or with <a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol.get_signal_by_event" title="netsquid.protocols.protocol.Protocol.get_signal_by_event"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_signal_by_event()</span></code></a></p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../pydynaa.html#pydynaa.core.EventExpression" title="pydynaa.core.EventExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventExpression</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">await_timer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">double</span> <span class="pre">duration=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">double</span> <span class="pre">end_time=0</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Schedule an event to trigger at a specified time and create an event expression to wait for it.</p>
<p>The expression must be <em>yielded</em> on to come into effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>duration</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">double</span></code>, optional) – Amount of time (in Nanoseconds) the protocol should sleep</p></li>
<li><p><strong>end_time</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">double</span></code>, optional) – Ignored if duration bigger than 0, time instance at which the event triggers.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Expression that the protocol yields on</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../pydynaa.html#pydynaa.core.EventExpression" title="pydynaa.core.EventExpression"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventExpression</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">can_signal_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">protocol</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Whether this protocol can send a signal to another protocol.</p>
<p>A local protocol can only signal to another local protocol if they have
one or more nodes in common.
A local protocol can always signal to a standard (non-local) protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>protocol</strong> (<a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol" title="netsquid.protocols.protocol.Protocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a>) – Protocol queried as to whether this protocol can send a signal to.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Whether this protocol can signal to the other protocol.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">check_assigned</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">input_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Helper method to check if inputs properly assigned.</p>
<p>Checks that inputs are not None and that they have correct type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<em>object or list of objects</em>) – Inputs to check.</p></li>
<li><p><strong>input_type</strong> (<em>type or None, optional</em>) – Type that inputs should be. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, type is not
checked.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if all <code class="docutils literal notranslate"><span class="pre">inputs</span></code> specified, otherwise False.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Return the name of a class or object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>obj</strong> – Any object or class.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The name representing the class or object.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_signal_by_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Get the signal result based on the event that triggered it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>event</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Event</span></code>) – The event that triggered the signalling</p></li>
<li><p><strong>receiver</strong> (<a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol" title="netsquid.protocols.protocol.Protocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a> or None, optional) – The protocol wanting to receive the signal value. If not None,
will check if signalling is possible using
<a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol.can_signal_to" title="netsquid.protocols.protocol.Protocol.can_signal_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">can_signal_to()</span></code></a></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A named tuple with the label and result of the signal that was signalled with the given event.
None if the event is no longer associated with a signal result.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.SignalResult" title="netsquid.protocols.protocol.SignalResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SignalResult</span></code></a> or None</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>To avoid storing all signal results and their events, only the most recent signal results are stored.
This means if a signal is sent all previous signal results are deleted, and the previous events are
no longer associated with a signal result.
Signals in the same time instance can co-exist.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">get_signal_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">receiver</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Get the result of the last signal sent with this label.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>label</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> or <a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Signals" title="netsquid.protocols.protocol.Signals"><code class="xref py py-class docutils literal notranslate"><span class="pre">Signals</span></code></a>) – Label that the signal was broadcasted with.</p></li>
<li><p><strong>receiver</strong> (<a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol" title="netsquid.protocols.protocol.Protocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a> or None, optional) – The protocol wanting to receive the signal value. If not None,
will check if signalling is possible to this protocol using
<a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol.can_signal_to" title="netsquid.protocols.protocol.Protocol.can_signal_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">can_signal_to()</span></code></a>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value that was sent with the signal.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Any</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>RunTimeError</strong> – When attempting to get the result of a local signal from a nonlocal environment</p></li>
<li><p><strong>TypeError</strong> – When attempting to get the result of something else than a protocol</p></li>
<li><p><strong>KeyError</strong> – When the signal label is unknown i.e. hasn’t been added yet with
    <a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol.add_signal" title="netsquid.protocols.protocol.Protocol.add_signal"><code class="xref py py-meth docutils literal notranslate"><span class="pre">add_signal()</span></code></a>.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_connected</span></span></dt>
<dd><p>Whether protocol has been properly configured and can be started.</p>
<p>Requires that all specified nodes have been set (are not None).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>True if protocol is fully and correctly connected, otherwise False.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">is_running</span></span></dt>
<dd><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code> True if protocol is running, otherwise False.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_nodes</span></span></dt>
<dd><p>maximum number of nodes this local protocol can run on.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">name</span></span></dt>
<dd><p>Name of protocol for identification and display purposes.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">node</span></span></dt>
<dd><p>single node this protocol is running on.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api_nodes/netsquid.nodes.node.html#netsquid.nodes.node.Node" title="netsquid.nodes.node.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">Node</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">nodes</span></span></dt>
<dd><p>nodes local to this protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api_util/netsquid.util.constrainedmap.html#netsquid.util.constrainedmap.ConstrainedMap" title="netsquid.util.constrainedmap.ConstrainedMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ConstrainedMap</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">put</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Put a request to the service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> – A request instance.</p></li>
<li><p><strong>name</strong> (<em>str or None, optional</em>) – The identifier for the handler.
If None (default), uses the
<a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html#netsquid.protocols.serviceprotocol.ServiceProtocol.get_name" title="netsquid.protocols.serviceprotocol.ServiceProtocol.get_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_name()</span></code></a> of the request.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The value returned by <a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html#netsquid.protocols.serviceprotocol.ServiceProtocol.handle_request" title="netsquid.protocols.serviceprotocol.ServiceProtocol.handle_request"><code class="xref py py-meth docutils literal notranslate"><span class="pre">handle_request()</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>object</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html#netsquid.protocols.serviceprotocol.ServiceError" title="netsquid.protocols.serviceprotocol.ServiceError"><strong>ServiceError</strong></a> – If the name doesn’t match to the request type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">register_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Register a request for this service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>req_type</strong> – The class representing the request.</p></li>
<li><p><strong>handler</strong> (<em>callable</em>) – The function used to respond to the request.</p></li>
<li><p><strong>name</strong> (<em>str or None, optional</em>) – An identifier for this request.
If None (default) uses
<a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html#netsquid.protocols.serviceprotocol.ServiceProtocol.get_name" title="netsquid.protocols.serviceprotocol.ServiceProtocol.get_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_name()</span></code></a> of the request.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html#netsquid.protocols.serviceprotocol.ServiceError" title="netsquid.protocols.serviceprotocol.ServiceError"><strong>ServiceError</strong></a> – If the name is already registered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">register_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">res_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Register a response for this service.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>res_type</strong> – The class representing the response.</p></li>
<li><p><strong>name</strong> (<em>str or None, optional</em>) – The identifier to use when sending a signal.
If None (default) uses
<a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html#netsquid.protocols.serviceprotocol.ServiceProtocol.get_name" title="netsquid.protocols.serviceprotocol.ServiceProtocol.get_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_name()</span></code></a> of the request.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html#netsquid.protocols.serviceprotocol.ServiceError" title="netsquid.protocols.serviceprotocol.ServiceError"><strong>ServiceError</strong></a> – If the name has already been registered.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Removes the entity from the simulation.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">req_create</span></span></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">LinkLayerCreate</span></code></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">request_handlers</span></span></dt>
<dd><p>map of handler callbacks of registered requests.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api_util/netsquid.util.constrainedmap.html#netsquid.util.constrainedmap.ConstrainedMap" title="netsquid.util.constrainedmap.ConstrainedMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstrainedMap</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">request_types</span></span></dt>
<dd><p>map of the available service requests.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api_util/netsquid.util.constrainedmap.html#netsquid.util.constrainedmap.ConstrainedMap" title="netsquid.util.constrainedmap.ConstrainedMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstrainedMap</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">res_ok</span></span></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">LinkLayerOk</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Stops and starts the protocol leaving it in a clean state.</p>
<p>Will stop the protocol with the specified status,
or Status.FAIL if not specified. Leaves the protocol in the Protocol.IDLE state.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">response_types</span></span></dt>
<dd><p>map of the available service responses.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api_util/netsquid.util.constrainedmap.html#netsquid.util.constrainedmap.ConstrainedMap" title="netsquid.util.constrainedmap.ConstrainedMap"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstrainedMap</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Wait for a new request signal, then run the requests one by one.</p>
<p>Assumes request handlers are generators and not functions.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">send_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Send a response via a signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>response</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">collections.namedtuple</span></code> or object) – The response instance.</p></li>
<li><p><strong>name</strong> (<em>str or None, optional</em>) – The identifier used for this response.
Default <a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html#netsquid.protocols.serviceprotocol.ServiceProtocol.get_name" title="netsquid.protocols.serviceprotocol.ServiceProtocol.get_name"><code class="xref py py-meth docutils literal notranslate"><span class="pre">get_name()</span></code></a> of the request.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../api_protocols/netsquid.protocols.serviceprotocol.html#netsquid.protocols.serviceprotocol.ServiceError" title="netsquid.protocols.serviceprotocol.ServiceError"><strong>ServiceError</strong></a> – If the name doesn’t match to the request type.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">send_signal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signal_label</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Send a signal to other protocols to indicate a status change or announce a result.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>signal_label</strong> (<code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code> or <code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code> or <a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Signals" title="netsquid.protocols.protocol.Signals"><code class="xref py py-class docutils literal notranslate"><span class="pre">Signals</span></code></a>) – Label, key or status that is broadcasted to the world. Other protocols can wait for this signal.</p></li>
<li><p><strong>result</strong> (<em>Any or None, optional</em>) – Result or intermediate results of the protocol that you want to broadcast with this signal</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <code class="docutils literal notranslate"><span class="pre">signal_label</span></code> does not correspond to a signal of this protocol.</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>When a protocol is finished (i.e. its run() returns),
the protocol sends a signal with label <code class="xref py py-attr docutils literal notranslate"><span class="pre">FINISHED</span></code>.
The result is set to the return value.</p>
<p>When a signal is sent with a label that was sent earlier, the result of the first signal is overwritten.
Signal results sent in the same time instance can be individually retrieved using the triggering event.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">signals</span></span></dt>
<dd><p>signals this protocol can send (<a class="reference internal" href="../pydynaa.html#pydynaa.core.EventType" title="pydynaa.core.EventType"><code class="xref py py-class docutils literal notranslate"><span class="pre">EventType</span></code></a> indexed by label).</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">specify_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Specify a node required by this protocol.</p>
<p>The protocol cannot start until all specified nodes are set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>name</strong> (<em>str</em>) – Key to index the node with.</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If specifying this node will exceed the maximum number of nodes
    <a class="reference internal" href="../api_protocols/netsquid.protocols.nodeprotocols.html#netsquid.protocols.nodeprotocols.LocalProtocol.max_nodes" title="netsquid.protocols.nodeprotocols.LocalProtocol.max_nodes"><code class="xref py py-attr docutils literal notranslate"><span class="pre">max_nodes</span></code></a>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Start the protocol.</p>
<p>Will register the protocol and run up to the first yield.
Will not start any sub-protocols. Sub-protocols are started in the run().
When run() is not overridden it will start all sub-protocol in parallel automatically.
If it is overridden the sub-protocols should be started manually in the method;
this to give control on when sub-protocols should run in parallel or in sequence</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>This protocol is returned for convenience.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol" title="netsquid.protocols.protocol.Protocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a></p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>RuntimeError</strong> – If the protocol has not been properly connected.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">start_subprotocols</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Start all the sub-protocols in parallel.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Stop the protocol as well as any running sub-protocols.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">subprotocols</span></span></dt>
<dd><p>sub-protocols of this protocol.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api_util/netsquid.util.constrainedmap.html#netsquid.util.constrainedmap.ConstrainedMap" title="netsquid.util.constrainedmap.ConstrainedMap"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ConstrainedMap</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py">
<span class="sig-name descname"><span class="pre">uid</span></span></dt>
<dd><p>returns a unique identifier for this entity in the simulation.</p>
<p>Each entity has a unique identifier in the simulation.</p>
<dl class="field-list simple">
<dt class="field-odd">Type<span class="colon">:</span></dt>
<dd class="field-odd"><p>int</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">netsquid.examples.magic_simple_link.</span></span><span class="sig-name descname"><span class="pre">setup_protocol</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span></em><span class="sig-paren">)</span></dt>
<dd><p>Configure the protocols.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>network</strong> (<a class="reference internal" href="../api_nodes/netsquid.nodes.network.html#netsquid.nodes.network.Network" title="netsquid.nodes.network.Network"><code class="xref py py-class docutils literal notranslate"><span class="pre">Network</span></code></a>) – The network to configure the protocols on. Should consist of two nodes
called Alice and Bob.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A protocol describing the complete simple link setup.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="../api_protocols/netsquid.protocols.protocol.html#netsquid.protocols.protocol.Protocol" title="netsquid.protocols.protocol.Protocol"><code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py">
<span class="sig-prename descclassname"><span class="pre">netsquid.examples.magic_simple_link.</span></span><span class="sig-name descname"><span class="pre">run_simulation</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span></dt>
<dd><p>Run the example simulation.</p>
</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="netsquid.examples.simple_link.html" class="btn btn-neutral float-left" title="netsquid.examples.simple_link" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../api_pydynaa.html" class="btn btn-neutral float-right" title="pyDynAA package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017-2021, TNO and TUDelft (QuTech).</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    <span class="fa fa-book"> Other Versions</span>
    v: 1.1.7
    <span class="fa fa-caret-down"></span>
  </span>
  <div class="rst-other-versions">
    <dl>
      <dt>Versions</dt>
      <dd><a href="/1-1-stable/">1.1.5</a></dd>
      <dd><a href="/1-0-stable/">1.0.7</a></dd>
      <dd><a href="/0-10-stable/">0.10.4</a></dd>
      <dd><a href="/0-9-stable/">0.9.11</a></dd>
      <dd><a href="/0-8-stable/">0.8.7</a></dd>
      <dd><a href="/0-7-stable/">0.7.5</a></dd>
      <dd><a href="/0-6-stable/">0.6.4</a></dd>
      <dd><a href="/0-5-stable/">0.5.2</a></dd>
      <dd><a href="/0-4-stable/">0.4.2</a></dd>
      <dd><a href="/0-3-stable/">0.3.5</a></dd>
      <dd><a href="/latest-release/">latest release</a></dd>
      <dd><a href="/master/">master branch</a></dd>
    </dl>
  </div>
</div><script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".highlight-default .highlight").each(function() {
            if ($(this).find(".gp").length > 0) {
             $(this).prepend("<div class='codebtn btn btn-neutral float-right'><div class='gp'>>>></div><div>");
             $(this).children("pre").contents().filter(function() {return this.nodeType === 3;}).wrap("<span></span>").end();
            }
        });
        $(".highlight-default .highlight .codebtn").click(function() {
            $(this).parent().children("pre").find(".gp").toggleClass("hidden");
            var traceback_elem = $(this).parent().children("pre").find(".gt, .go");
            traceback_elem.toggleClass("hidden");
            traceback_elem.nextUntil(".gp, .go").toggleClass("hidden");

        })
    });
</script>


</body>
</html>