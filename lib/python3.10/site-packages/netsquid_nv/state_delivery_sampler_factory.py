import netsquid_nv.nv_state_delivery_model as nv_model
from netsquid_magic.state_delivery_sampler import HeraldedStateDeliverySamplerFactory


class NVStateDeliverySamplerFactory(HeraldedStateDeliverySamplerFactory):
    """
    Abstract base class for a factory that produces
    :obj:`~netsquid_nv.state_delivery_factory.StateDeliverySampler`
    objects for two-qubit entangled states between the electron spins
    in two remote nitrogen-vacancy centers, produced by the
    single-click scheme, using a beamsplitter and two photon
    non-number-resolving detectors.
    """

    # NOTE we might want to add that a StateSampler has a "dark count state", i.e. a not-entangled state,
    # rather than having it output a mixture between an entangled state and a "dark-count state"

    # TODO the internode distance is not yet included in the model underlying the produced state!

    def __init__(self):
        super().__init__(func_delivery=nv_model.nv_single_click_state_sampler)
